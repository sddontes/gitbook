(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2980"],{"3xMW":function(t,a,e){},J46U:function(t,a,e){"use strict";var i=e("3xMW");e.n(i).a},QUjs:function(t,a,e){"use strict";e.r(a);var i=e("EJiy"),s=e.n(i),l=e("gDS+"),r=e.n(l),o=e("sk9p"),n=e.n(o),c=e("Ch/I"),v=e("+c+A"),d=e("e8be"),p=e("L6QF"),h=e("Y7rk"),_=e("tg1W"),u=e("glul"),m=e("MT78"),f={components:{baseBar:d.a,basePie:p.a},mixins:[u.a,v.a],data:function(){return{warZone:"",warZone_arrive:"",modes:c.d,status:["WAIT_OPERATION","OPERATIONING"],hotelStates:c.c,modeVal:[0],allTip:{},tipData:[],cityValue_arrive:[],tipData_arrive:[],allTip_arrive:{},id:"bar"}},mounted:function(){this.search(),this.search_arrive(),this._getCity()},methods:{search_arrive:function(){this.tipData_arrive=[],this._getShopManageStatus_arrive()},_getShopManageStatus_arrive:function(){var t=this;this.seriesData_arrive=[];var a=n()(this.cityValue_arrive,3),e=a[0],i=a[1],s={areaCode:a[2],cityCode:i,provinceCode:e,theaterNodeIds:this.warZone_arrive};s=Object(_.a)(s),Object(h.j)(s).then(function(a){t._formatShopStatus_arrive(a.data)})},_formatShopStatus_arrive:function(t){var a=t.allocatedVO,e=t.arrivedVO,i=t.unallocatedVO,s={"未分配":i,"已分配":a,"已到店":e};for(var l in this.legendData_arrive=[],this.seriesData_arrive=[],this.selected={},s)this.seriesData_arrive.push({name:l,value:s[l].totalNum}),this.legendData_arrive.push(l),this.selected[l]=!0;this.resdata_arrive={unallocatedVO:i,allocatedVO:a,arrivedVO:e};var r="共计"+t.totalNum+"人";this.initCommon("main_arrive","店长到店情况",["#FF9081","#FACB93","#6FE8B4"],this.legendData_arrive,this.seriesData_arrive,r)},filterSelect:function(t){this[t].includes(0)&&(this[t]=[0])},selectTipTitle:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tipData_arrive",i=r()(t),s=this.$router.resolve({path:"/dashboard/shop-Hotel-report/detail?hotels="+i+"&type="+e+"&name="+a});window.open(s.href,"_blank")},selectTip:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tipData_arrive",i=r()(t),s=this.$router.resolve({path:"/dashboard/shop-Hotel-report/detail?hotels="+i+"&type="+e+"&name="+a});window.open(s.href,"_blank")},search:function(){this.tipData=[],this._getShopManageStatus()},initCommon:function(t,a,e,i,s,l){var r=[80,80],o=m.init(this.$refs[t]);o.showLoading();var n={title:{text:a,subtext:l,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:e,legend:{bottom:0,orient:"horizontal",itemGap:30,data:i},series:[{name:"详细",type:"pie",coordinateSystem:"calendar",center:["50%","50%"],radius:["20%","65%"],data:s,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{label:{show:!0,formatter:"{b} \n{c} ({d}%)",offset:[-r[0]/2+10,-r[1]/2+10],textStyle:{color:"#000",fontSize:14}},shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.5)",labelLine:{show:!0}}}}]};o.hideLoading(),o.setOption(n,!0);var c=this,v="main"===t?"tipData":"tipData_arrive",d="main"===t?"allTip":"allTip_arrive";o.on("click",function(a){c[v]=c._getTip(a.name,t),1!==c[v].length?c[d]=c[v].shift():c[d]=c[v][0]})},_getShopManageStatus:function(){var t=this;this.seriesData=[];var a=n()(this.cityValue,3),e=a[0],i=a[1],s=a[2],l={cooperationMode:this.modeVal.includes(0)?[]:this.modeVal,areaCode:s,cityCode:i,provinceCode:e,theaterNodeIds:this.warZone,status:this.status.includes(0)?[]:this.status};l=Object(_.a)(l),Object(h.i)(l).then(function(a){t.$refs.hotelPie._newFormatShopStatus(a.data)})},_getTip:function(t,a){var e=[],i=this["main"===a?"resdata":"resdata_arrive"];for(var l in i)if(i[l].name===t){var r=i[l].children;if(e.push(i[l]),!r)break;for(var o in r)"object"===s()(r[o])&&e.push(r[o])}return e}}},b=(e("J46U"),e("KHd+")),y=Object(b.a)(f,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout",attrs:{id:"wrapper"}},[e("div",{staticClass:"top"},[t._m(0),t._v(" "),e("div",{staticStyle:{"border-bottom":"1px solid #efefef",height:"16px"}}),t._v(" "),e("div",{staticClass:"my_pos"},[e("div",{staticStyle:{width:"70%"}},[e("div",{staticClass:"tab-head"},[e("div",{staticClass:"tab-head-list"},[e("el-row",[e("el-col",{attrs:{span:22}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"tab-list-item",attrs:{id:"multiple_sty"}},[e("span",{staticClass:"left_label"},[t._v("战区")]),t._v(" "),e("el-cascader",{staticStyle:{width:"168px"},attrs:{options:t.thaeterList,props:t.propsThaeter,"collapse-tags":"",clearable:"",filterable:""},on:{change:t.getThaeter}})],1)]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"tab-list-item"},[e("span",{staticClass:"left_label"},[t._v("区域")]),t._v(" "),e("el-cascader",{staticStyle:{width:"168px"},attrs:{options:t.city,props:t.props,filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.selectCity},model:{value:t.cityValue,callback:function(a){t.cityValue=a},expression:"cityValue"}})],1)]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"tab-list-item"},[e("span",{staticClass:"left_label"},[t._v("酒店状态")]),t._v(" "),e("el-select",{staticStyle:{width:"168px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:function(a){t.filterSelect("status")}},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},t._l(t.hotelStates,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"tab-list-item"},[e("span",{staticClass:"left_label"},[t._v("合作模式")]),t._v(" "),e("el-select",{staticStyle:{width:"168px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:function(a){t.filterSelect("modeVal")}},model:{value:t.modeVal,callback:function(a){t.modeVal=a},expression:"modeVal"}},t._l(t.modes,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("div",{staticClass:"tab-list-item"},[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)])],1)],1)]),t._v(" "),e("basePie",{ref:"hotelPie"})],1),t._v(" "),e("baseBar",{attrs:{id:t.id="bar"}})],1)]),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"bottom"},[t._m(1),t._v(" "),e("div",{staticStyle:{"border-bottom":"1px solid #efefef",height:"16px"}}),t._v(" "),e("div",{staticClass:"my_pos"},[e("div",{staticStyle:{width:"70%"}},[e("div",{staticClass:"tab-head"},[e("div",{staticClass:"tab-head-list"},[e("el-row",[e("el-col",{attrs:{span:22}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"tab-list-item",attrs:{id:"multiple_sty"}},[e("span",{staticClass:"left_label"},[t._v("战区")]),t._v(" "),e("el-cascader",{staticStyle:{width:"168px"},attrs:{options:t.thaeterList,props:t.propsThaeter,"collapse-tags":"",clearable:"",filterable:""},on:{change:t.getThaeter}})],1)]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"tab-list-item"},[e("span",{staticClass:"left_label"},[t._v("区域")]),t._v(" "),e("el-cascader",{staticStyle:{width:"168px"},attrs:{options:t.city,props:t.props,filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.selectCity},model:{value:t.cityValue_arrive,callback:function(a){t.cityValue_arrive=a},expression:"cityValue_arrive"}})],1)])],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("div",{staticClass:"tab-list-item"},[e("el-button",{attrs:{type:"primary"},on:{click:t.search_arrive}},[t._v("查询")])],1)])],1)],1),t._v(" "),e("div",{staticClass:"hr"})]),t._v(" "),e("div",{ref:"main_arrive",staticStyle:{width:"100%",height:"500px"}})]),t._v(" "),e("baseBar",{attrs:{id:t.id="bar_arrive"}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tipData_arrive.length,expression:"tipData_arrive.length"}],staticClass:"tip"},[e("div",{staticClass:"tip-title",on:{click:function(a){t.selectTipTitle(t.allTip_arrive.storeManagerStatusVOs,t.allTip_arrive.name)}}},[t._v("\n        共计 "+t._s(t.allTip_arrive.totalNum)+" 人\n        "),"未分配"===t.allTip_arrive.name?e("span",[t._v("\n          (正常 "+t._s(t.allTip_arrive.children?t.allTip_arrive.children.dueTotelNum:"")+" 人,逾期\n          "),e("span",{staticClass:"symbol"},[t._v(t._s(t.allTip_arrive.children?t.allTip_arrive.children.overDueTotelNum:""))]),t._v("人)\n        ")]):t._e()]),t._v(" "),e("div",{staticClass:"bor1"}),t._v(" "),e("div",{staticClass:"content"},t._l(t.tipData_arrive,function(a,i){return e("div",{key:a.name,staticClass:"content-item",on:{click:function(e){t.selectTip(a.storeManagerStatusVOs,a.name)}}},[t._v("\n          "+t._s(a.name)+"：\n          "),e("span",{class:{symbol:(i+1)%2==0}},[t._v(t._s(a.totalNum))])])})),t._v(" "),e("div",{staticClass:"closeIcon",on:{click:function(a){t.tipData_arrive=[]}}},[e("i",{staticClass:"el-icon-close"})])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title"},[this._v("\n      门店入驻店长情况\n      "),a("span",{staticStyle:{color:"#888888"}},[this._v("（1小时前）")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"title"},[this._v("\n      店长到店情况\n      "),a("span",{staticStyle:{color:"#888888"}},[this._v("（1小时前）")])])}],!1,null,"916d25b6",null);y.options.__file="index.vue";a.default=y.exports}}]);