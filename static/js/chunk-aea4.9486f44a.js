(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-aea4"],{"/lo8":function(e,t,a){"use strict";var l=a("1YkY");a.n(l).a},"1YkY":function(e,t,a){},"6WWd":function(e,t,a){"use strict";a.r(t);var l=a("kkBN"),n=a("pfto"),r=a("DCA8"),i=a("Ch/I"),o={name:"DailyWorkReport",mixins:[a("glul").a],data:function(){return{queryTime:new Date(new Date-864e5),pickerOptions:{disabledDate:function(e){return e<new Date(new Date-3456e5)||e>new Date(new Date-864e5)},shortcuts:!1},projectLevel:i.e,taskCode:"",projectStages:i.f,projectStatu:"",projectStatus:i.h,checked:!1,projectManagerName:"",progressReport:[],currentPage:1,size:20,totalPages:1,total:0}},computed:{},created:function(){this._getCity(),this.search()},methods:{goDetailList:function(e){this.$router.push({path:"/tr-project-manage/details/"+e})},getprojectLevel:function(e,t){return e.filter(function(e){return e.value===t})[0].label},search:function(){var e={projectManagerName:this.projectManagerName,taskCode:0===this.taskCode?"":this.taskCode,projectStatus:this.projectStatu,taskIsOverdue:this.checked?1:null,queryTime:Object(n.a)(this.queryTime),page:this.currentPage,size:this.size,provinceCode:this.provinceCode,cityCode:this.cityCode,areaCode:this.areaCode};this.postData=e,this._query()},_query:function(){var e=this;Object(r.a)(this.postData).then(function(t){e.progressReport=t.data.list,e.totalPages=t.data.pages,e.total=t.data.total})},exportExcel:function(){var e="",t=Object(l.a)();for(var a in this.postData)e+="&"+a+"="+this.postData[a];e=e.substring(1);var n="http://bzy.hhotel.com/bzy-reports/hotelReport/exportHotelCollection?"+(e+="&Authorization="+t);n=encodeURI(n),window.open(n,"_blank")},handleCurrentChange:function(e){this.currentPage=e,this.search()},handleSizeChange:function(e){this.size=e,this.search()}}},u=(a("/lo8"),a("KHd+")),s=Object(u.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout hotel-Total",attrs:{id:"dailyWorkReport"}},[a("div",{staticClass:"tab-head"},[a("div",{staticClass:"tab-head-list"},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("截止时间")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"168px"},attrs:{"picker-options":e.pickerOptions,clearable:!1,"value-format":"yyyy-MM-dd","range-separator":"-",type:"date",placeholder:"请选择"},model:{value:e.queryTime,callback:function(t){e.queryTime=t},expression:"queryTime"}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("城市")]),e._v(" "),a("el-cascader",{staticStyle:{width:"168px"},attrs:{options:e.city,props:e.props,clearable:"",filterable:"",placeholder:"请选择"},on:{change:e.selectCity},model:{value:e.cityValue,callback:function(t){e.cityValue=t},expression:"cityValue"}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("项目负责人")]),e._v(" "),a("el-input",{staticStyle:{width:"168px"},attrs:{clearable:"",placeholder:"请输入"},model:{value:e.projectManagerName,callback:function(t){e.projectManagerName=t},expression:"projectManagerName"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"tab-list-item"},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("项目节点")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择"},model:{value:e.taskCode,callback:function(t){e.taskCode=t},expression:"taskCode"}},e._l(e.projectStages,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("项目状态")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择"},model:{value:e.projectStatu,callback:function(t){e.projectStatu=t},expression:"projectStatu"}},e._l(e.projectStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("只看逾期")])],1)])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1),e._v(" "),a("div")],1)]),e._v(" "),a("div",{staticClass:"container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","border-radius":"8px"},attrs:{data:e.progressReport,"max-height":"500","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"项目编号","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"clickText",on:{click:function(a){e.goDetailList(t.row.hotelCode)}}},[e._v(e._s(t.row.hotelCode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelName",label:"项目名称","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"provinceName",label:"省份","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityName",label:"城市","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"srn",label:"SRN","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"运营状态","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectManagerName",label:"所属IR","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目等级","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getprojectLevel(e.projectLevel,t.row.projectLevel)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"supplierName",label:"项目供应商","min-width":"300"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getprojectLevel(e.projectStatus,t.row.projectStatus)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"项目阶段","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskOverdueDays",label:"逾期时间","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskOverName",label:"异常原因","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskRemark",label:"状态说明","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t00TaskEndTime",label:"预计完工时间","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t00Duration",label:"项目持续时长","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t02Duration",label:"评估报告上传时长","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t03Duration",label:"完整设计方案上传时长","min-width":"170"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t04Duration",label:"完整设计方案业主确认时长","min-width":"190"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t05Duration",label:"下单制作安装时长","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t00TaskActualStartTime",label:"项目开始时间","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t02TaskActualEndTime",label:"评估报告上传时间","min-width":"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t03TaskActualEndTime",label:"完整设计方案上传时间","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t04TaskActualEndTime",label:"完整设计方案业主确认时间","min-width":"190"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t05taskActualEndTime",label:"下单制作安装完成时间","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"t00TaskActualEndTime",label:"项目完成时间","min-width":"120"}})],1)],1),e._v(" "),a("div",{staticClass:"sum"},[e._v("共计"+e._s(e.total)+"条")]),e._v(" "),a("div",{staticClass:"pagination-content"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,40,80,100],"page-size":e.size,"page-count":e.totalPages,layout:" sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},[],!1,null,"b662b512",null);s.options.__file="dailyWorkReport.vue";t.default=s.exports},"Ch/I":function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"h",function(){return r}),a.d(t,"g",function(){return i}),a.d(t,"d",function(){return o}),a.d(t,"c",function(){return u}),a.d(t,"j",function(){return s}),a.d(t,"e",function(){return c}),a.d(t,"k",function(){return p}),a.d(t,"b",function(){return v}),a.d(t,"a",function(){return d}),a.d(t,"i",function(){return b});var l=a("VLRh"),n=[{value:0,label:"全部"},{value:"T_00000001",label:"酒店图片上传"},{value:"T_00000002",label:"实勘"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"},{value:"T_00000010",label:"酒店图片上传--图片上传"},{value:"T_00000020",label:"实勘--改造评估报告图片上传"},{value:"T_00000030",label:"完整设计方案--整体设计方案图片上传"},{value:"T_00000040",label:"完整方案业主确定--业务确认函图片上传"},{value:"T_00000050",label:"下单制作安装--店招"},{value:"T_00000051",label:"下单制作安装--室内改造"},{value:"T_00000052",label:"下单制作安装--集采物质"}],r=[{value:0,label:"全部"},{value:1,label:"未开始"},{value:2,label:"进行中"},{value:3,label:"已完成"},{value:4,label:"已暂停"},{value:5,label:"已终止"}],i=[{value:0,label:"全部"},{value:"T_00000001",label:"评估照片上传"},{value:"T_00000002",label:"评估报告上传"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"}],o=[{value:0,label:"全部"},{value:l.h,label:"品牌加盟"},{value:l.n,label:"软保底"},{value:l.c,label:"商务咨询"},{value:l.g,label:"加盟保底"}],u=[{value:0,label:"全部"},{value:l.r,label:"待运营"},{value:l.k,label:"运营中"},{value:l.l,label:"已暂停"},{value:l.q,label:"已解约"}],s=[{value:0,label:"全部"},{value:l.p,label:"未分配"},{value:l.a,label:"已分配"},{value:l.b,label:"已到店"}],c=[{value:0,label:"待定"},{value:1,label:"爱马仕橙"},{value:2,label:"孔雀蓝"},{value:3,label:"经典蓝"},{value:4,label:"青春绿"}],p=[{label:"全部",value:0},{label:"一战区",value:1},{label:"二战区",value:2},{label:"三战区",value:3},{label:"四战区",value:4},{label:"五战区",value:5},{label:"六战区",value:6},{label:"七战区",value:7},{label:"八战区",value:8}],v=[{label:"未参加",value:0},{label:"不及格",value:1},{label:"及格",value:2},{label:"良好",value:3},{label:"优秀",value:4}],d=[{label:"未参加",value:0},{label:"未通过",value:1},{label:"通过",value:2}],b=[{label:"全部",value:""},{label:"已派单",value:1},{label:"未派单",value:0}]},DCA8:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r});var l=a("CcjM");function n(e){return Object(l.a)({url:"bzy-tr/reports/project",method:"get",params:e})}function r(e){return Object(l.a)({url:"bzy-reports/trProjectReport/queryProgress",method:"get",params:e})}},VLRh:function(e,t,a){"use strict";a.d(t,"n",function(){return l}),a.d(t,"h",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"g",function(){return i}),a.d(t,"k",function(){return o}),a.d(t,"r",function(){return u}),a.d(t,"l",function(){return s}),a.d(t,"q",function(){return c}),a.d(t,"f",function(){return p}),a.d(t,"e",function(){return v}),a.d(t,"j",function(){return d}),a.d(t,"s",function(){return b}),a.d(t,"o",function(){return h}),a.d(t,"d",function(){return m}),a.d(t,"p",function(){return f}),a.d(t,"a",function(){return _}),a.d(t,"b",function(){return g}),a.d(t,"m",function(){return k}),a.d(t,"t",function(){return T}),a.d(t,"i",function(){return w});var l="SOLFT_GUARANTEE",n="LOGO_JOIN",r="BUSINESS_CONSULT",i="JOIN_GUARANTEE",o="OPERATIONING",u="WAIT_OPERATION",s="PAUSED",c="VERB",p="EAST_WEST_NORTH",v="EAST",d="NORTH",b="WEST_SOUTH",h="SOUTH",m="CENTRAL",f="UNALLOCATED",_="ALLOCATED",g="ARRIVED",k="PROPRIETOR_CONFIRMED",T="YEAR_GUARANTEE",w="MONTH_GUARANTEE"},glul:function(e,t,a){"use strict";var l=a("/uL/");t.a={data:function(){return{leadDate:[],cityValue:[],city:[],props:{value:"code",label:"name",checkStrictly:!0},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},computed:{loading:function(){return this.$store.getters.loading}},methods:{selectCity:function(e){this.provinceCode=e[0]||"",this.cityCode=e[1]||"",this.areaCode=e[2]||""},_getCity:function(){var e=this;Object(l.g)().then(function(t){e.city=t.data})}}}},pfto:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o});var l=a("4d7F"),n=a.n(l);function r(e){var t=new Date(e);return t.getFullYear()+"-"+(1===(t.getMonth()+1).toString().length?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(1===t.getDate().toString().length?"0"+t.getDate():t.getDate())}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new n.a(function(a,l){var n=new Date;n.setDate(n.getDate()-e);var i=new Date;i.setDate(i.getDate()-t);var o=[n=r(n),i=r(i)];o[1]&&a(o)})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,a=t.getFullYear(),l=t.getMonth()+1-e;return a+"-"+(l=l<10?"0"+l:l)}}}]);