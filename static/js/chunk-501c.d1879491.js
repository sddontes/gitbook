(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-501c"],{"+LZn":function(e,t,r){"use strict";t.a={data:function(){return{currentPage:1,size:20,totalPages:0,searchFnName:"search"}},methods:{handleSizeChange:function(e){this.size=e,this[this.searchFnName]()},handleCurrentChange:function(e){this.currentPage=e,this[this.searchFnName]("pageChange")}}}},"+j1j":function(e,t,r){"use strict";r.r(t);var n=r("m1cH"),a=r.n(n),o=r("14Xm"),i=r.n(o),l=r("D3Ub"),s=r.n(l),u=r("/8lg"),c=r("wo1R"),d=r("+LZn"),h=r("8gzE"),p=r("/uL/"),f=r("kCVz"),m=r("MO4u"),b=r("Ch/I"),v=r("kkBN"),g={props:{},data:function(){return{hotelStates:b.c,status:""}},methods:{filterSelect:function(){this.status.includes(0)&&(this.status=[0]),this.$emit("getSelectStatus",this.status)}}},y=(r("G/RE"),r("KHd+")),w=Object(y.a)(g,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tab-list-item"},[r("span",{staticStyle:{display:"inline-block",flex:"0 0 70px","margin-right":"10px","text-align":"right"}},[e._v("酒店状态")]),e._v(" "),r("el-select",{staticStyle:{width:"168px",flex:"0 1 atuo"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:e.filterSelect},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.hotelStates,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)},[],!1,null,"00b463dc",null);w.options.__file="index.vue";var _=w.exports,j=r("wX0E"),O=r("t2Y8"),S={name:"DispenseProject",components:{FetchSuggestions:m.a,HotelStatus:_},mixins:[c.a,d.a,O.a],data:function(){return{PATH:"tr-project-manage/dispense-project",sendOrders:null,sendOrdersStatus:b.i,modeVal:"",modes:b.d,warZone:"",warZoneList:b.k,getLabelValue:h.a.getLabelValue,departmentList:[],hotelList:[],roleList:[],hotels:[],code:"",needAreaData:!1,showDeleteDialog:!1,status:[],loadingFlag:!1,saveSupplyFlag:!1,projectStatus:b.h,newFormVisible:!1,dialogTableVisible:!1,hotelValue:[],hotelValueHide:[],dialogFormVisible:!1,supplyFrom:{},supplierValues:[],supplierList:[],selectedHotel:[],formLabelWidth:"120px",formInputWidth:"300px",total:0,users:[],newForm:{},newFormRules:{userName:[{required:!0,message:"请选择IR负责人",trigger:"change"}],projectStartTime:[{required:!0,message:"请选择分配日期",trigger:"change"}]},showBindSupplier:[],bindSupplierList:[],hint:"如果需要停用原供应商，请先到IR供应商分配操作停用供应商"}},computed:{loading:function(){return this.$store.state.loading},supplierListFilter:function(){var e=this;this.bindSupplierList.forEach(function(e){e.disabled=!1});var t=[];return(t=this.supplierList.filter(function(e){if(3!==e.status&&4!==e.status)return e})).forEach(function(t){e.bindSupplierList.forEach(function(e){e.supplierCode===t.supplierCode&&(t.disabled=!0)})}),t}},created:function(){this.newForm=this.getFromData(),this.search(),this._getRemoteData()},methods:{getFromData:function(){return{userName:"",phone:"",provinceName:"",cityName:"",roleName:"",hotelName:"",isOldData:!0,associatedItemsDetails:[],associatedItems:0,projectStartTime:""}},_getSuppliers:function(){var e=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.suppliers=[],t.next=3,Object(f.e)({page:1,size:1e3}).then(function(t){e.suppliers=t.data.list,e.supplierList=e.suppliers});case 3:case"end":return t.stop()}},t,e)}))()},remoteSupplier:function(e){this.supplierList=""!==e?this.suppliers.filter(function(t){return t.supplierName.indexOf(e)>-1||t.supplierCode===e}):this.suppliers},selectUser:function(e){if(e){var t=this.users.filter(function(t){return t.code===e});this.userInfo=t[0],this.newForm.name=t[0].name,this.newForm.phone=t[0].phone,this.newForm.cityName=t[0].cityName,this.newForm.provinceName=t[0].provinceName,this.newForm.roleName=t[0].roles.join(","),this._findByManagerCode(t[0].code)}},_findByManagerCode:function(e){var t=this;return s()(i.a.mark(function r(){var n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.b)(e);case 2:n=r.sent,t.newForm.associatedItems=n.data.length,t.newForm.associatedItemsDetails=n.data,n.data&&(t.hotelValueHide=n.data.map(function(e){return e.hotelCode}));case 6:case"end":return r.stop()}},r,t)}))()},_getUserList:function(){var e=this;return s()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.q)({page:1,size:1e3,roleCode:"RT4W0ZM4437132454"});case 2:r=t.sent,e.users=r.data.list;case 4:case"end":return t.stop()}},t,e)}))()},closeDialog:function(){this.newFormVisible=!1,this.newForm=this.getFromData()},addRelation:function(e){var t=this;return s()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.newFormVisible=!0,t.newForm.hotelName=e.hotelName,t.hotelCode=e.hotelCode;case 3:case"end":return r.stop()}},r,t)}))()},save:function(){var e=this;this.$refs.newForm.validate(function(t){if(!t)return!1;e.loadingFlag=!0,e.addConnect()})},addConnect:function(){var e=this,t=[this.hotelCode].concat(a()(this.hotelValueHide)).map(function(e){return{hotelCode:e}}),r={projectManagerId:this.userInfo.id,projectManagerCode:this.userInfo.code,projectManagerName:this.userInfo.name,projectStartTime:this.newForm.projectStartTime,phone:this.newForm.phone,isOldData:this.newForm.isOldData?0:1,projectList:t};Object(j.a)(r).then(function(t){e.$message({type:"success",message:"绑定项目成功",duration:1e3,onClose:function(){e.loadingFlag=!1,e.dialogFormVisible=!0,e._getSuppliers(),e._queryBindSupplier(e.hotelCode)}})}).catch(function(){e.loadingFlag=!1})},saveSupply:function(){0!==this.supplierValues.length?this._batchSaveSupplierProject():this.$message({type:"info",message:"请最少选择一个供应商"})},_batchSaveSupplierProject:function(){var e=this;return s()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.saveSupplyFlag=!0,r={hotelCode:e.hotelCode,supplierCode:e.supplierValues,userId:e.userInfo.id},t.next=4,Object(f.g)(r).then(function(t){e.$message({type:"success",message:"分配成功",onClose:function(){e.saveSupplyFlag=!1,e.restCommon()}})}).catch(function(){e.saveSupplyFlag=!1});case 4:case"end":return t.stop()}},t,e)}))()},restCommon:function(){this.newForm=this.getFromData(),this.dialogFormVisible=!1,this.newFormVisible=!1,this.supplierValues=[],this.search()},unbundling:function(e){var t=this;this.row=e,this.$confirm("解绑后, 该用户将无权限查看项目进度，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.showDeleteDialog=!1,t._unBindRelation()}).catch(function(){t.showDeleteDialog=!1})},_unBindRelation:function(){var e=this,t={hotelCode:this.row.hotelCode,projectManagerId:this.row.projectManagerId};Object(j.g)(t).then(function(t){e.$message({type:"success",message:"解绑成功",onClose:function(){e.search()}})})},getFetchCode:function(e){this.code=e},search:function(e){var t=this;return s()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.currentPage="pageChange"===e?t.currentPage:1,r.next=3,t._getDispenseHotel();case 3:case"end":return r.stop()}},r,t)}))()},_getRemoteData:function(){var e=this;return s()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.i)({page:1,size:9999});case 2:r=t.sent,e.hotelList=r.data.list;case 4:case"end":return t.stop()}},t,e)}))()},_getSelectStatus:function(e){this.status=0===e[0]?[]:e},_getDispenseHotel:function(){var e=this;this.hotels=[];var t={hasDistributed:null===this.sendOrders?"":this.sendOrders,cooperationMode:this.modeVal?this.modeVal:"",theaterNodeIds:this.warZone,page:this.currentPage,size:this.size,code:this.code,status:this.status,userId:Object(v.a)(),proviceCode:this.provinceCode,cityCode:this.cityCode};Object(j.c)(t).then(function(t){e.hotels=t.data.list,e.totalPages=t.data.pages,e.total=t.data.total,e._getUserList()})},_queryBindSupplier:function(e){var t=this;Object(f.f)(e).then(function(e){t.showBindSupplier=e.data.map(function(e){return e.supplierName}),t.bindSupplierList=e.data})}}},C=(r("DjiW"),Object(y.a)(S,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dispense-hotel-container layout"},[r("div",{staticClass:"tab-head"},[r("div",{staticClass:"tab-head-list"},[r("el-row",[r("el-col",{attrs:{span:22}},[r("el-col",{attrs:{span:8}},[r("fetchSuggestions",{attrs:{"hotel-list":e.hotelList,"search-title":"酒店"},on:{getFetchCode:e.getFetchCode}})],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"tab-list-item"},[r("span",{staticClass:"left_label"},[e._v("省市")]),e._v(" "),r("el-cascader",{staticStyle:{width:"168px"},attrs:{options:e.city,props:e.props,clearable:"",filterable:"",placeholder:"请选择"},on:{change:e.selectCity},model:{value:e.cityValue,callback:function(t){e.cityValue=t},expression:"cityValue"}})],1)]),e._v(" "),r("el-col",{attrs:{span:8}},[r("HotelStatus",{on:{getSelectStatus:e._getSelectStatus}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[r("div",{staticClass:"tab-list-item"},[r("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:22}},[r("el-col",{attrs:{span:8}},[r("div",{staticClass:"tab-list-item"},[r("span",{staticClass:"left_label"},[e._v("战区")]),e._v(" "),r("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择"},model:{value:e.warZone,callback:function(t){e.warZone=t},expression:"warZone"}},e._l(e.warZoneList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"tab-list-item"},[r("span",{staticClass:"left_label"},[e._v("合作模式")]),e._v(" "),r("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择"},model:{value:e.modeVal,callback:function(t){e.modeVal=t},expression:"modeVal"}},e._l(e.modes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),r("el-col",{attrs:{span:8}},[r("div",{staticClass:"tab-list-item"},[r("span",{staticClass:"left_label"},[e._v("派单情况")]),e._v(" "),r("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择"},model:{value:e.sendOrders,callback:function(t){e.sendOrders=t},expression:"sendOrders"}},e._l(e.sendOrdersStatus,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])],1)],1)],1)]),e._v(" "),r("div",{staticClass:"table-content"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","border-radius":"8px"},attrs:{data:e.hotels,"max-height":"500","empty-text":"暂无数据"}},[r("el-table-column",{attrs:{fixed:"",prop:"hotelCode",label:"酒店编号","min-width":"80"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"",prop:"hotelName",label:"酒店名称","min-width":"220"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"",prop:"cooperationMode",label:"合作模式","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getLabelValue(e.modes,t.row.cooperationMode)))]}}])}),e._v(" "),r("el-table-column",{attrs:{fixed:"",prop:"proviceName",label:"所在省份","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"",prop:"cityName",label:"所在城市","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"",prop:"managerName",label:"姓名","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{prop:"phone",label:"手机号","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"roleName",label:"角色","min-width":"100"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[!t.row.projectManagerId&&e.buttonFilter("assign",e.btnArr)?r("el-button",{staticClass:"btn-form-sub",attrs:{size:"mini"},on:{click:function(r){e.addRelation(t.row)}}},[e._v("立即分配")]):e._e(),e._v(" "),t.row.projectManagerId&&e.buttonFilter("unbind",e.btnArr)?r("el-button",{staticClass:"btn-form-unbind",attrs:{size:"mini",type:"danger"},on:{click:function(r){e.unbundling(t.row)}}},[e._v("解绑关系")]):e._e()]}}])})],1)],1),e._v(" "),r("span",{staticClass:"sum"},[e._v("共计"+e._s(e.total)+"条")]),e._v(" "),r("div",{staticClass:"pagination-content"},[r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,40,80,100],"page-size":e.size,"page-count":e.totalPages,layout:" sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),r("el-dialog",{attrs:{visible:e.newFormVisible,title:"新建关联关系"},on:{"update:visible":function(t){e.newFormVisible=t},close:e.closeDialog}},[r("el-form",{ref:"newForm",attrs:{model:e.newForm,rules:e.newFormRules}},[r("el-form-item",{staticClass:"tab-list-item",attrs:{"label-width":e.formLabelWidth,label:"姓名",prop:"userName"}},[r("el-select",{style:{width:e.formInputWidth},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selectUser},model:{value:e.newForm.userName,callback:function(t){e.$set(e.newForm,"userName",t)},expression:"newForm.userName"}},e._l(e.users,function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),r("el-form-item",{staticClass:"tab-list-item",attrs:{"label-width":e.formLabelWidth,label:"手机号"}},[r("span",{staticClass:"connect-span"},[e._v(e._s(e.newForm.phone))])]),e._v(" "),r("el-form-item",{staticClass:"tab-list-item",attrs:{"label-width":e.formLabelWidth,label:"所在区域"}},[r("span",[e._v(e._s(e.newForm.provinceName)+" "+e._s(e.newForm.cityName))])]),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"已关联项目数"}},[r("span",{staticClass:"clickAbleText",on:{click:function(t){e.dialogTableVisible=!0}}},[e._v(e._s(e.newForm.associatedItems))])]),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"角色"}},[r("el-input",{attrs:{disabled:!0,value:e.newForm.roleName}})],1),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"关联酒店名"}},[r("el-input",{attrs:{disabled:!0,value:e.newForm.hotelName}})],1),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"分配日期",prop:"projectStartTime"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.newForm.projectStartTime,callback:function(t){e.$set(e.newForm,"projectStartTime",t)},expression:"newForm.projectStartTime"}})],1),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"是否为新项目"}},[r("el-switch",{model:{value:e.newForm.isOldData,callback:function(t){e.$set(e.newForm,"isOldData",t)},expression:"newForm.isOldData"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.newFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{loading:e.loadingFlag,type:"primary"},on:{click:e.save}},[e._v("保 存")])],1)],1),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogTableVisible,title:"已关联项目详情"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("el-table",{attrs:{data:e.newForm.associatedItemsDetails}},[r("el-table-column",{attrs:{property:"hotelCode",label:"项目编号",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{property:"hotelName",label:"项目名称",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{label:"整体状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.getLabelValue(e.projectStatus,t.row.status)))])]}}])})],1)],1),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"分配供应商"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.restCommon}},[r("el-form",{attrs:{model:e.supplyFrom}},[r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"已关联项目"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"hotelName"},[e._v(e._s(e.newForm.hotelName))])])],1)],1),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"选择供应商"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.remoteSupplier,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词"},model:{value:e.supplierValues,callback:function(t){e.supplierValues=t},expression:"supplierValues"}},e._l(e.supplierListFilter,function(e){return r("el-option",{key:e.value,attrs:{disabled:e.disabled,label:e.supplierName,value:e.supplierCode}})}))],1),e._v(" "),r("div",{staticClass:"hint"},[e._v(e._s(e.hint))]),e._v(" "),r("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"已选供应商"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"暂无数据"},model:{value:e.showBindSupplier,callback:function(t){e.showBindSupplier=t},expression:"showBindSupplier"}},e._l(e.bindSupplierList,function(e){return r("el-option",{key:e.supplierCode,attrs:{label:e.supplierName,value:e.supplierName}})}))],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.restCommon}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{loading:e.saveSupplyFlag,type:"primary"},on:{click:e.saveSupply}},[e._v("保 存")])],1)],1)],1)},[],!1,null,"d53aa3cc",null));C.options.__file="dispenseProject.vue";t.default=C.exports},"/8lg":function(e,t,r){"use strict";r.d(t,"q",function(){return a}),r.d(t,"r",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"i",function(){return l}),r.d(t,"g",function(){return s}),r.d(t,"u",function(){return u}),r.d(t,"v",function(){return c}),r.d(t,"f",function(){return d}),r.d(t,"a",function(){return h}),r.d(t,"j",function(){return p}),r.d(t,"h",function(){return f}),r.d(t,"l",function(){return m}),r.d(t,"n",function(){return b}),r.d(t,"m",function(){return v}),r.d(t,"k",function(){return g}),r.d(t,"s",function(){return y}),r.d(t,"o",function(){return w}),r.d(t,"p",function(){return _}),r.d(t,"t",function(){return j}),r.d(t,"c",function(){return O}),r.d(t,"d",function(){return S}),r.d(t,"b",function(){return C});var n=r("CcjM");function a(e){return Object(n.a)({url:"bzy-upms/authUser/list",method:"get",params:e})}function o(e){return Object(n.a)({url:"bzy-upms/authUser/findUsersByRoleCode",method:"post",data:e})}function i(e){return Object(n.a)({url:"bzy-upms/authUser/getAllUser",method:"get",params:e})}function l(e){return Object(n.a)({url:"bzy-hotel/hotel/listEffective",method:"post",data:e})}function s(e){return Object(n.a)({url:"bzy-hotel/city/hotelAreaResourceList",method:"get",params:e})}function u(e){return Object(n.a)({url:"bzy-upms/user/hotelResource",method:"post",data:e})}function c(e){return Object(n.a)({url:"bzy-upms/user/hotelResource",method:"put",data:e})}function d(e){return Object(n.a)({url:"bzy-upms/user/hotelResource/getResourcesByUserForm",method:"post",data:e})}function h(e,t,r){var a="1"===e?"bzy-upms/user/hotelResource/"+t:"bzy-upms/user/hotelResource/"+t+"?allocationObject="+r;return Object(n.a)({url:a,method:"delete"})}function p(e){return Object(n.a)({url:"bzy-hotel/resource/getReleation/"+e,method:"get"})}function f(){return Object(n.a)({url:"bzy-upms/department/list",method:"get"})}function m(){return Object(n.a)({url:"bzy-upms/department/getSubDepartmentList",method:"get"})}function b(){return Object(n.a)({url:"bzy-upms/department/getSubUserRoleList",method:"get"})}function v(e){return Object(n.a)({url:"bzy-upms/user/hotelResource/querySubUserHotelResourceList",method:"post",data:e})}function g(){return Object(n.a)({url:"bzy-hotel/resource/getReleationHotelEffective",method:"get"})}function y(){return Object(n.a)({url:"bzy-hotel/city/hotelAreaPermissionResourceList",method:"get"})}function w(e){return Object(n.a)({url:"bzy-upms/theater/subList/"+e,method:"get"})}function _(e){return Object(n.a)({url:"bzy-upms/theater/getTheaterNodeDetails/"+e,method:"get",data:e})}function j(e){return Object(n.a)({url:"/bzy-upms/theater",method:"post",data:e})}function O(e){return Object(n.a)({url:"/bzy-upms/theater",method:"put",data:e})}function S(){return Object(n.a)({url:"bzy-upms/theater/queryAll",method:"get"})}function C(e){return Object(n.a)({url:"bzy-upms/theater/"+e,method:"delete"})}},"14Xm":function(e,t,r){e.exports=r("cSMa")},"32LA":function(e,t,r){"use strict";function n(e){return e.map(function(e){var t=[];return e.children.map(function(e){t.push({name:e.name,code:e.code})}),{name:e.name,code:e.code,children:t}})}function a(e){return e.map(function(e){var t=[];return e.children.map(function(e){t.push({nodeName:e.nodeName,id:e.id})}),{nodeName:e.nodeName,id:e.id,children:t}})}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a})},"5OVc":function(e,t,r){},ABkP:function(e,t,r){},"Ch/I":function(e,t,r){"use strict";r.d(t,"f",function(){return a}),r.d(t,"h",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"d",function(){return l}),r.d(t,"c",function(){return s}),r.d(t,"j",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"k",function(){return d}),r.d(t,"b",function(){return h}),r.d(t,"a",function(){return p}),r.d(t,"i",function(){return f});var n=r("VLRh"),a=[{value:0,label:"全部"},{value:"T_00000001",label:"酒店图片上传"},{value:"T_00000002",label:"实勘"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"},{value:"T_00000010",label:"酒店图片上传--图片上传"},{value:"T_00000020",label:"实勘--改造评估报告图片上传"},{value:"T_00000030",label:"完整设计方案--整体设计方案图片上传"},{value:"T_00000040",label:"完整方案业主确定--业务确认函图片上传"},{value:"T_00000050",label:"下单制作安装--店招"},{value:"T_00000051",label:"下单制作安装--室内改造"},{value:"T_00000052",label:"下单制作安装--集采物质"}],o=[{value:0,label:"全部"},{value:1,label:"未开始"},{value:2,label:"进行中"},{value:3,label:"已完成"},{value:4,label:"已暂停"},{value:5,label:"已终止"}],i=[{value:0,label:"全部"},{value:"T_00000001",label:"评估照片上传"},{value:"T_00000002",label:"评估报告上传"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"}],l=[{value:0,label:"全部"},{value:n.h,label:"品牌加盟"},{value:n.n,label:"软保底"},{value:n.c,label:"商务咨询"},{value:n.g,label:"加盟保底"}],s=[{value:0,label:"全部"},{value:n.r,label:"待运营"},{value:n.k,label:"运营中"},{value:n.l,label:"已暂停"},{value:n.q,label:"已解约"}],u=[{value:0,label:"全部"},{value:n.p,label:"未分配"},{value:n.a,label:"已分配"},{value:n.b,label:"已到店"}],c=[{value:0,label:"待定"},{value:1,label:"爱马仕橙"},{value:2,label:"孔雀蓝"},{value:3,label:"经典蓝"},{value:4,label:"青春绿"}],d=[{label:"全部",value:0},{label:"一战区",value:1},{label:"二战区",value:2},{label:"三战区",value:3},{label:"四战区",value:4},{label:"五战区",value:5},{label:"六战区",value:6},{label:"七战区",value:7},{label:"八战区",value:8}],h=[{label:"未参加",value:0},{label:"不及格",value:1},{label:"及格",value:2},{label:"良好",value:3},{label:"优秀",value:4}],p=[{label:"未参加",value:0},{label:"未通过",value:1},{label:"通过",value:2}],f=[{label:"全部",value:""},{label:"已派单",value:1},{label:"未派单",value:0}]},D3Ub:function(e,t,r){"use strict";t.__esModule=!0;var n,a=r("4d7F"),o=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){return function n(a,i){try{var l=t[a](i),s=l.value}catch(e){return void r(e)}if(!l.done)return o.default.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}},DjiW:function(e,t,r){"use strict";var n=r("ABkP");r.n(n).a},"G/RE":function(e,t,r){"use strict";var n=r("jG3Y");r.n(n).a},MO4u:function(e,t,r){"use strict";var n={name:"FetchSuggestions",props:{hotelList:{type:Array,required:!0},searchTitle:{type:String,required:!0}},data:function(){return{code:"",searchCode:""}},methods:{blurSearch:function(){var e=this;if(this.code){var t=this.hotelList.find(function(t){return t.name===e.code||t.code===e.code});this.searchCode=t?t.code:this.code,this.$emit("getFetchCode",this.searchCode)}else this.$emit("getFetchCode",this.code)},handleSelect:function(e){this.searchCode=e.code,this.$emit("getFetchCode",this.searchCode)},querySearch:function(e,t){var r=this.hotelList;t(e?r.filter(this.createFilter(e)):r)},createFilter:function(e){return function(t){return t.name.indexOf(e)>-1}}}},a=(r("aT9M"),r("KHd+")),o=Object(a.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tab-list-item"},[e.searchTitle?r("span",{staticStyle:{display:"inline-block",flex:"0 0 70px","margin-right":"10px","text-align":"right"}},[e._v(e._s(e.searchTitle))]):e._e(),e._v(" "),r("el-autocomplete",{staticStyle:{width:"168px",flex:"0 1 atuo"},attrs:{"fetch-suggestions":e.querySearch,clearable:"","value-key":"name",placeholder:"酒店名称/编号"},on:{select:e.handleSelect,blur:e.blurSearch,clear:e.blurSearch},nativeOn:{change:function(t){return e.blurSearch(t)}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)},[],!1,null,"cff8e71e",null);o.options.__file="index.vue";t.a=o.exports},VLRh:function(e,t,r){"use strict";r.d(t,"n",function(){return n}),r.d(t,"h",function(){return a}),r.d(t,"c",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"k",function(){return l}),r.d(t,"r",function(){return s}),r.d(t,"l",function(){return u}),r.d(t,"q",function(){return c}),r.d(t,"f",function(){return d}),r.d(t,"e",function(){return h}),r.d(t,"j",function(){return p}),r.d(t,"s",function(){return f}),r.d(t,"o",function(){return m}),r.d(t,"d",function(){return b}),r.d(t,"p",function(){return v}),r.d(t,"a",function(){return g}),r.d(t,"b",function(){return y}),r.d(t,"m",function(){return w}),r.d(t,"t",function(){return _}),r.d(t,"i",function(){return j});var n="SOLFT_GUARANTEE",a="LOGO_JOIN",o="BUSINESS_CONSULT",i="JOIN_GUARANTEE",l="OPERATIONING",s="WAIT_OPERATION",u="PAUSED",c="VERB",d="EAST_WEST_NORTH",h="EAST",p="NORTH",f="WEST_SOUTH",m="SOUTH",b="CENTRAL",v="UNALLOCATED",g="ALLOCATED",y="ARRIVED",w="PROPRIETOR_CONFIRMED",_="YEAR_GUARANTEE",j="MONTH_GUARANTEE"},aT9M:function(e,t,r){"use strict";var n=r("5OVc");r.n(n).a},cSMa:function(e,t,r){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r("u4eC"),a)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},jG3Y:function(e,t,r){},kCVz:function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return s}),r.d(t,"k",function(){return u}),r.d(t,"i",function(){return c}),r.d(t,"j",function(){return d}),r.d(t,"h",function(){return h}),r.d(t,"f",function(){return p}),r.d(t,"c",function(){return f});var n=r("CcjM");function a(e){return Object(n.a)({url:"bzy-tr/supplierList",method:"get",params:e})}function o(e){return Object(n.a)({url:"bzy-tr/supplierProjectList",method:"get",params:e})}function i(e){return Object(n.a)({url:"bzy-tr/saveSupplierProject",method:"post",data:e})}function l(e){return Object(n.a)({url:"bzy-tr/project/projectDetails",method:"get",params:e})}function s(e){return Object(n.a)({url:"bzy-tr/supplier",method:"post",data:e})}function u(e){return Object(n.a)({url:"bzy-tr/supplier/base/update",method:"post",data:e})}function c(e){return Object(n.a)({url:"bzy-tr/supplier/add/update/with/check",method:"post",data:e})}function d(e){return Object(n.a)({url:"bzy-tr/supplier/add/update",method:"post",data:e})}function h(e){return Object(n.a)({url:"bzy-tr/supplier/suspend",method:"post",data:e})}function p(e){return Object(n.a)({url:"bzy-tr/supplier/list/by/"+e,method:"get"})}function f(e){return Object(n.a)({url:"bzy-tr/supplier/"+e,method:"get"})}},t2Y8:function(e,t,r){"use strict";var n=r("QbLZ"),a=r.n(n),o=r("L2JU");function i(e,t){return t.includes(e)}t.a={computed:a()({},Object(o.b)(["name","btnPermissionRoles"])),created:function(){this._initBtnPermission()},methods:{_initBtnPermission:function(){var e=function(e,t){var r=[];if(e.length)return e.map(function(e){var n=e.split(":")[0],a=e.split(":")[1];n===t&&r.push(a)}),r}(this.btnPermissionRoles,this.PATH);this.btnArr=e,this.buttonFilter=i}}}},u4eC:function(e,t){!function(t){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=w;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",m={},b={};b[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==n&&a.call(g,i)&&(b=g);var y=S.prototype=j.prototype=Object.create(b);O.prototype=y.constructor=S,S.constructor=O,S[s]=O.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},c.awrap=function(e){return{__await:e}},C(L.prototype),L.prototype[l]=function(){return this},c.AsyncIterator=L,c.async=function(e,t,r,n){var a=new L(w(e,t,r,n));return c.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},C(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function w(e,t,r,n){var a=t&&t.prototype instanceof j?t:j,o=Object.create(a.prototype),i=new N(n||[]);return o._invoke=function(e,t,r){var n=d;return function(a,o){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw o;return z()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=x(i,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var s=_(e,t,r);if("normal"===s.type){if(n=r.done?f:h,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=f,r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function _(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function j(){}function O(){}function S(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function L(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,i){var l=_(e[r],e,n);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&a.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):Promise.resolve(u).then(function(e){s.value=e,o(s)},i)}i(l.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function x(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,x(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=_(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:z}}function z(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},wX0E:function(e,t,r){"use strict";r.d(t,"f",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return i}),r.d(t,"e",function(){return l}),r.d(t,"k",function(){return s}),r.d(t,"h",function(){return u}),r.d(t,"j",function(){return c}),r.d(t,"b",function(){return d}),r.d(t,"g",function(){return h}),r.d(t,"c",function(){return p}),r.d(t,"i",function(){return f});var n=r("CcjM");function a(e){return Object(n.a)({url:"bzy-tr/project/pageList",method:"post",data:e})}function o(e){return Object(n.a)({url:"bzy-tr/overdue/taskOverdueList",method:"get",params:e})}function i(e){return Object(n.a)({url:"bzy-tr/project",method:"post",data:e})}function l(e){return Object(n.a)({url:"bzy-tr/task/"+e,method:"get"})}function s(e){return Object(n.a)({url:"bzy-tr/task",method:"post",data:e})}function u(e){return Object(n.a)({url:"bzy-tr/project/reset/"+e,method:"get"})}function c(e){return Object(n.a)({url:"bzy-tr/project/updateLevel",method:"post",data:e})}function d(e){return Object(n.a)({url:"bzy-tr/project/findByManagerCode/"+e,method:"get"})}function h(e){return Object(n.a)({url:"bzy-tr/project/unbind",method:"post",data:e})}function p(e){return Object(n.a)({url:"bzy-tr/project/hotelList",method:"get",params:e})}function f(e){return Object(n.a)({url:"bzy-tr/task/changeStatus",method:"post",data:e})}},wo1R:function(e,t,r){"use strict";var n=r("/uL/"),a=r("32LA");t.a={data:function(){return{city:[],hotels:[],needAreaData:!0,props:{value:"code",label:"name",checkStrictly:!0},cityValue:[]}},created:function(){this._getCity()},methods:{selectCity:function(e,t){this.provinceCode=e[0]||"",this.cityCode=e[1]||"",this.areaCode=e[2]||""},_getCity:function(){var e=this;Object(n.g)().then(function(t){e.city=e.needAreaData?t.data:Object(a.b)(t.data)})}}}}}]);