(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0d71"],{TqFQ:function(t,n,e){},b9Fh:function(t,n,e){"use strict";var i=e("TqFQ");e.n(i).a},eSdN:function(t,n,e){"use strict";e.r(n);var i=e("jYEY"),o=e.n(i),s=encodeURIComponent("http://bzyadmin.hhotel.com/#/dingding"),a=encodeURIComponent("https://oapi.dingtalk.com/connect/qrconnect?appid=dingoaaj6wzdnpftfimg4o&response_type=code&scope=snsapi_login&state=STATE&redirect_uri="+s),r={name:"Login",data:function(){return{index:0,loginTab:[{btnText:"钉钉扫码登录",title:"账号密码登录",btnImgClass:"account"},{btnText:"账号密码登录",title:"钉钉扫码登录",btnImgClass:"ding"}],loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]},loading:!1,pwdType:"password",redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},created:function(){},mounted:function(){},beforeDestroy:function(){window.removeEventListener("message",this.handleWinFocus)},methods:{bindMessage:function(){var t=function(t){if("https://login.dingtalk.com"===t.origin){var n=t.data,e="https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=dingoar9stkjcpyeowndke&response_type=code&scope=snsapi_login&state=STATE&redirect_uri="+s+"&loginTmpCode="+n;window.location.href=e}};void 0!==window.addEventListener?window.addEventListener("message",t,!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",t)},handlToggleLogin:function(){0===this.index?(this.index=1,this.isInitDingDing||(DDLogin({id:"login_container",goto:a,style:"border:none;background-color:#FFFFFF;",width:"335",height:"300"}),this.bindMessage(),this.isInitDingDing=!0)):this.index=0},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(n){if(!n)return!1;t.loading=!0,t.postData={username:t.loginForm.username,password:o()(t.loginForm.password),clientId:"clientapp",clientSecret:"112233"},t.$store.dispatch("Login",t.postData).then(function(){t.loading=!1,t.$router.push("/")}).catch(function(){t.loading=!1})})}}},c=(e("b9Fh"),e("KHd+")),l=Object(c.a)(r,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login_container"},[e("div",{staticClass:"pad_wrap"},[t._m(0),t._v(" "),e("div",{staticClass:"right_wrap"},[e("div",{staticClass:"btn_wrap",on:{click:t.handlToggleLogin}},[e("div",{staticClass:"btn"},[t._v("\n          "+t._s(t.loginTab[t.index].btnText)+"\n          "),e("div",{staticClass:"kailong"})]),t._v(" "),e("div",{staticClass:"btn_pic",class:[0===t.index?"account":"ding"]})]),t._v(" "),e("div",{staticClass:"title_wrap",class:{code_title:1===t.index}},[e("div",{staticClass:"title"},[t._v(t._s(t.loginTab[t.index].title))]),t._v(" "),e("div",{staticClass:"down_line"})]),t._v(" "),e("transition",{attrs:{name:"fade_login"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.index,expression:"index===0"}],staticClass:"block"},[e("el-form",{ref:"loginForm",staticClass:"login_form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[e("div",{staticClass:"form_title"},[t._v("用户名")]),t._v(" "),e("el-form-item",{attrs:{prop:"username"}},[e("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"用户名"},model:{value:t.loginForm.username,callback:function(n){t.$set(t.loginForm,"username",n)},expression:"loginForm.username"}})],1),t._v(" "),e("div",{staticClass:"form_title"},[t._v("密码")]),t._v(" "),e("el-form-item",{staticClass:"form_input",attrs:{prop:"password"}},[e("el-input",{attrs:{type:t.pwdType,name:"password","auto-complete":"on",placeholder:"密码"},nativeOn:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.handleLogin(n):null}},model:{value:t.loginForm.password,callback:function(n){t.$set(t.loginForm,"password",n)},expression:"loginForm.password"}}),t._v(" "),e("span",{staticClass:"show_pwd",on:{click:t.showPwd}},[e("svg-icon",{attrs:{"icon-class":"password"===t.pwdType?"eye":"eye-open"}})],1)],1),t._v(" "),e("el-form-item",{staticClass:"login_btn"},[e("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),t.handleLogin(n)}}},[t._v("登录")])],1)],1)],1)]),t._v(" "),e("transition",{attrs:{name:"fade_login"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.index,expression:"index===1"}],staticClass:"block2"},[e("div",{staticClass:"code_wrap"},[e("div",{ref:"login_container",attrs:{id:"login_container"}})])])]),t._v(" "),t._m(1)],1)])])},[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"left_wrap"},[n("div",{staticClass:"left_pic"})])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"foot_wrap"},[n("div",[this._v("建议使用谷歌浏览器，并设置分辨率为1280*960及以上")]),this._v(" "),n("div",{staticClass:"link"},[n("a",{attrs:{href:"http://bzyadmin.hhotel.com/download/ChromeSetup.exe"}},[this._v("谷歌浏览器下载")])])])}],!1,null,"29f2b1ec",null);l.options.__file="index.vue";n.default=l.exports},jYEY:function(t,n,e){var i;!function(o){"use strict";function s(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function a(t,n,e,i,o,a){return s((r=s(s(n,t),s(i,a)))<<(c=o)|r>>>32-c,e);var r,c}function r(t,n,e,i,o,s,r){return a(n&e|~n&i,t,n,o,s,r)}function c(t,n,e,i,o,s,r){return a(n&i|e&~i,t,n,o,s,r)}function l(t,n,e,i,o,s,r){return a(n^e^i,t,n,o,s,r)}function d(t,n,e,i,o,s,r){return a(e^(n|~i),t,n,o,s,r)}function u(t,n){var e,i,o,a,u;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var p=1732584193,g=-271733879,v=-1732584194,h=271733878;for(e=0;e<t.length;e+=16)i=p,o=g,a=v,u=h,g=d(g=d(g=d(g=d(g=l(g=l(g=l(g=l(g=c(g=c(g=c(g=c(g=r(g=r(g=r(g=r(g,v=r(v,h=r(h,p=r(p,g,v,h,t[e],7,-680876936),g,v,t[e+1],12,-389564586),p,g,t[e+2],17,606105819),h,p,t[e+3],22,-1044525330),v=r(v,h=r(h,p=r(p,g,v,h,t[e+4],7,-176418897),g,v,t[e+5],12,1200080426),p,g,t[e+6],17,-1473231341),h,p,t[e+7],22,-45705983),v=r(v,h=r(h,p=r(p,g,v,h,t[e+8],7,1770035416),g,v,t[e+9],12,-1958414417),p,g,t[e+10],17,-42063),h,p,t[e+11],22,-1990404162),v=r(v,h=r(h,p=r(p,g,v,h,t[e+12],7,1804603682),g,v,t[e+13],12,-40341101),p,g,t[e+14],17,-1502002290),h,p,t[e+15],22,1236535329),v=c(v,h=c(h,p=c(p,g,v,h,t[e+1],5,-165796510),g,v,t[e+6],9,-1069501632),p,g,t[e+11],14,643717713),h,p,t[e],20,-373897302),v=c(v,h=c(h,p=c(p,g,v,h,t[e+5],5,-701558691),g,v,t[e+10],9,38016083),p,g,t[e+15],14,-660478335),h,p,t[e+4],20,-405537848),v=c(v,h=c(h,p=c(p,g,v,h,t[e+9],5,568446438),g,v,t[e+14],9,-1019803690),p,g,t[e+3],14,-187363961),h,p,t[e+8],20,1163531501),v=c(v,h=c(h,p=c(p,g,v,h,t[e+13],5,-1444681467),g,v,t[e+2],9,-51403784),p,g,t[e+7],14,1735328473),h,p,t[e+12],20,-1926607734),v=l(v,h=l(h,p=l(p,g,v,h,t[e+5],4,-378558),g,v,t[e+8],11,-2022574463),p,g,t[e+11],16,1839030562),h,p,t[e+14],23,-35309556),v=l(v,h=l(h,p=l(p,g,v,h,t[e+1],4,-1530992060),g,v,t[e+4],11,1272893353),p,g,t[e+7],16,-155497632),h,p,t[e+10],23,-1094730640),v=l(v,h=l(h,p=l(p,g,v,h,t[e+13],4,681279174),g,v,t[e],11,-358537222),p,g,t[e+3],16,-722521979),h,p,t[e+6],23,76029189),v=l(v,h=l(h,p=l(p,g,v,h,t[e+9],4,-640364487),g,v,t[e+12],11,-421815835),p,g,t[e+15],16,530742520),h,p,t[e+2],23,-995338651),v=d(v,h=d(h,p=d(p,g,v,h,t[e],6,-198630844),g,v,t[e+7],10,1126891415),p,g,t[e+14],15,-1416354905),h,p,t[e+5],21,-57434055),v=d(v,h=d(h,p=d(p,g,v,h,t[e+12],6,1700485571),g,v,t[e+3],10,-1894986606),p,g,t[e+10],15,-1051523),h,p,t[e+1],21,-2054922799),v=d(v,h=d(h,p=d(p,g,v,h,t[e+8],6,1873313359),g,v,t[e+15],10,-30611744),p,g,t[e+6],15,-1560198380),h,p,t[e+13],21,1309151649),v=d(v,h=d(h,p=d(p,g,v,h,t[e+4],6,-145523070),g,v,t[e+11],10,-1120210379),p,g,t[e+2],15,718787259),h,p,t[e+9],21,-343485551),p=s(p,i),g=s(g,o),v=s(v,a),h=s(h,u);return[p,g,v,h]}function p(t){var n,e="",i=32*t.length;for(n=0;n<i;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function g(t){var n,e=[];for(e[(t.length>>2)-1]=void 0,n=0;n<e.length;n+=1)e[n]=0;var i=8*t.length;for(n=0;n<i;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function v(t){var n,e,i="";for(e=0;e<t.length;e+=1)n=t.charCodeAt(e),i+="0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n);return i}function h(t){return unescape(encodeURIComponent(t))}function f(t){return function(t){return p(u(g(t),8*t.length))}(h(t))}function m(t,n){return function(t,n){var e,i,o=g(t),s=[],a=[];for(s[15]=a[15]=void 0,o.length>16&&(o=u(o,8*t.length)),e=0;e<16;e+=1)s[e]=909522486^o[e],a[e]=1549556828^o[e];return i=u(s.concat(g(n)),512+8*n.length),p(u(a.concat(i),640))}(h(t),h(n))}function w(t,n,e){return n?e?m(n,t):v(m(n,t)):e?f(t):v(f(t))}void 0===(i=function(){return w}.call(n,e,n,t))||(t.exports=i)}()}}]);