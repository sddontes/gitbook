(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-89d9"],{"/h46":function(e,t,a){a("cHUd")("Map")},"1aT1":function(module,__webpack_exports__,__webpack_require__){"use strict";var babel_runtime_core_js_array_from__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("rfXi"),babel_runtime_core_js_array_from__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_core_js_array_from__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_map__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ODRq"),babel_runtime_core_js_map__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_map__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("14Xm"),babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("P2sY"),babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("GQeE"),babel_runtime_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4__),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("D3Ub"),babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__),babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("QbLZ"),babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__),_common_components_Form__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("360E"),_api_PT_hotelManage__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("/uL/"),_api_IR_supplyManage__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("kCVz"),vuex__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("L2JU"),vue_scrollto_src_scrollTo__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("LiJ7"),taxpayerQualificationOptions=[{label:"一般纳税人",value:1},{label:"小规模纳税人",value:2},{label:"税务局代开（个人）",value:3}],taxRatePercentOptions=[{label:"税率 13%",value:13},{label:"税率 9%",value:9},{label:"税率 6%",value:6},{label:"税率 3%",value:3}],invoiceTypeOptions=[{label:"普票",value:1},{label:"专票",value:2}],supplierStatusOptions=[{label:"正常入库",value:1},{label:"特批入库",value:2},{label:"暂停合作",value:3},{label:"淘汰确认",value:4},{label:"恢复合作",value:5}],isRegionalOptions=[{label:"是",value:1},{label:"否",value:0}];__webpack_exports__.a={name:"SupplyManageOperating",components:{FormView:_common_components_Form__WEBPACK_IMPORTED_MODULE_7__.a},data:function(){return{isInit:!1,operationInfo:{},operationType:1,operationBaseType:1,operationReplenishType:1,tabsValue:"0",sortArr:["基础信息","财务信息","邮寄信息"],baseInfo:{title:"基础信息",list:[{label:"供应商名称",key:"supplierName",value:"",type:"input",placeholder:"请输入供应商名称",isRequired:!0},{label:"供应商所在区域",key:"region",value:[],type:"region",placeholder:"请输选择商所在区域",isRequired:!0,options:JSON.parse(localStorage.getItem("areaList")),validate:"select"},{label:"对接人姓名",key:"acceptor",value:"",type:"input",placeholder:"请输入对接人姓名",isRequired:!0},{label:"手机号",key:"acceptorPhone",value:"",type:"input",placeholder:"请输入手机号",isRequired:!0,validate:"mobile"},{label:"供应商邮箱",key:"supplierMail",value:"",type:"input",placeholder:"请输入供应商邮箱",isRequired:!0,validate:"email"},{label:"法人姓名",key:"corporationName",value:"",type:"input",placeholder:"请输入法人姓名",isRequired:!0},{label:"供应商主营业务",key:"supplierScope",value:"",type:"input",placeholder:"请输入供应商主营业务",isRequired:!0}]},financeInfo:{title:"财务信息",list:[{label:"收款账户名称",key:"bankAccountName",value:"",type:"input",placeholder:"请输入账户名称",isRequired:!0},{label:"银行账户",key:"bankAccountNo",value:"",type:"input",placeholder:"请输入银行账户",isRequired:!0},{label:"开户行",key:"branchBankName",value:"",type:"selectInput",placeholder:"请输入开户行",isRequired:!0,options:[]},{key:"bankCode",value:""},{key:"bankName",value:""},{label:"纳税人资质",key:"taxpayerQualification",value:"",type:"select",placeholder:"请选择纳税人资质",isRequired:!0,validate:"select",options:taxpayerQualificationOptions},{label:"纳税人识别号",key:"taxpayerNo",value:"",type:"input",placeholder:"请输入纳税人识别号",isRequired:!0},{label:"开票类型",key:"invoiceType",value:"",type:"select",placeholder:"请选择开票类型",isRequired:!0,validate:"select",options:invoiceTypeOptions},{label:"税率",key:"taxRatePercent",value:"",type:"select",placeholder:"请选择税率",isRequired:!0,validate:"select",options:taxRatePercentOptions},{label:"开票地址",key:"invoiceAddress",value:"",type:"input",placeholder:"请输入开票地址",isRequired:!0},{label:"开票电话",key:"invoicePhone",value:"",type:"input",placeholder:"请输入开票电话",isRequired:!0}]},mailInfo:{title:"邮寄信息",list:[{label:"回寄地址",key:"returnAddress",value:"",type:"input",placeholder:"请输入回寄地址",isRequired:!0},{label:"收件人",key:"returnReceiver",value:"",type:"input",placeholder:"请输入收件人",isRequired:!0},{label:"联系电话",key:"returnPhone",value:"",type:"input",placeholder:"请输入联系电话",isRequired:!0,validate:"mobile"}]},replenishInfo:{title:"补充信息",list:[{label:"供应商状态",key:"supplierStatus",value:"",type:"select",placeholder:"请选择供应商状态",isRequired:!0,validate:"select",options:supplierStatusOptions},{label:"服务覆盖区域",key:"coverAreaList",value:[],type:"cityMultiple",placeholder:"请选择服务覆盖区域",isRequired:!0,options:JSON.parse(localStorage.getItem("areaList")),validate:"select"},{label:"可接单量",key:"orderLimit",value:"",type:"number",placeholder:"请选择可接单量",isRequired:!0,validate:"greaterZero"},{label:"区域供应商",key:"isRegional",value:1,type:"radio",placeholder:"请选择区域供应商",isRequired:!0,options:isRegionalOptions}]},baseData:{},financeData:{},mailData:{},replenishData:{},isBaseRequired:!1,isReplenishRequired:!1,isSubmitList:[],bankInfo:null,alias:""}},computed:babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6___default()({},Object(vuex__WEBPACK_IMPORTED_MODULE_10__.b)(["name"])),watch:{isBaseRequired:function(e){e&&(this.isSubmitList=[])}},created:function(){switch(this.alias=this.$store.state.user.info.roles[0].alias,this.operationType=Number(this.$route.query.type),this.operationTypeFilter(),this.operationType){case 3:case 2:this.$route.meta.title=2===this.operationType?"IR供应商查看":"IR供应商编辑",this.sortArr.push("补充信息");break;default:this.$route.meta.title="IR供应商新增"}},mounted:function(){1!==this.operationType?this._getSupplierDetailsInfo(this.$route.query.id):this._getBankList()},methods:{operationTypeFilter:function(){if("chaojiguanliyuan"===this.alias||3!==this.operationType)return this.operationBaseType=this.operationType,void(this.operationReplenishType=this.operationType);"caigoujingli"===this.alias?(this.operationBaseType=2,this.operationReplenishType=3):"gongyinglianputong"===this.alias?(this.operationBaseType=3,this.operationReplenishType=2):(this.operationBaseType=2,this.operationReplenishType=2)},dataHandle:function(e){var t=this;return babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function a(){var i,n,r,o,s,l;return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,babel_runtime_core_js_object_keys__WEBPACK_IMPORTED_MODULE_4___default()(e);case 2:return i=a.sent,n=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()(t.baseInfo),r=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()(t.financeInfo),o=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()(t.mailInfo),s=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()(t.replenishInfo),l=[],t.baseInfo={},t.financeInfo={},t.mailInfo={},t.replenishInfo={},a.next=14,i.forEach(function(a){n.list=t.dataHandleBefore(a,n.list,e),r.list=t.dataHandleBefore(a,r.list,e),o.list=t.dataHandleBefore(a,o.list,e),s.list=t.dataHandleBefore(a,s.list,e)});case 14:return a.next=16,n.list.forEach(function(t){"region"===t.key&&(t.value=[e.proviceCode,e.cityCode])});case 16:return a.next=18,s.list.forEach(function(e){if("coverAreaList"===e.key){var t=[],a=[];(l=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()([],e.value)).forEach(function(e){2===e.coverCityCode.length?t.push(e.coverCityCode):a.push(e.coverCityCode)}),e.value=[],t.forEach(function(t){a.forEach(function(a){a.startsWith(t)&&e.value.push([t,a])})})}});case 18:if(3!==t.operationType||2!==t.operationBaseType){a.next=28;break}return a.next=21,t.dataEcho(n.list);case 21:return n.list=a.sent,a.next=24,t.dataEcho(r.list);case 24:return r.list=a.sent,a.next=27,t.dataEcho(o.list);case 27:o.list=a.sent;case 28:if(3!==t.operationType||2!==t.operationReplenishType){a.next=32;break}return a.next=31,t.dataEcho(s.list,l);case 31:s.list=a.sent;case 32:if(2!==t.operationType){a.next=45;break}return a.next=35,t.dataEcho(n.list);case 35:return n.list=a.sent,a.next=38,t.dataEcho(r.list);case 38:return r.list=a.sent,a.next=41,t.dataEcho(o.list);case 41:return o.list=a.sent,a.next=44,t.dataEcho(s.list,l);case 44:s.list=a.sent;case 45:t.baseInfo=n,t.financeInfo=r,t.mailInfo=o,t.replenishInfo=s,t.isInit=!0;case 51:case"end":return a.stop()}},a,t)}))()},dataHandleBefore:function(e,t,a){return t.forEach(function(t){t.key===e&&(t.value=a[e])}),t},getNameByCode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],i=e.find(function(e){return e.code===t[0]}),n=i.children.find(function(e){return e.code===t[1]}),r=n?n.name:"";return a.push(i.name),a.push(r),a},dataEcho:function dataEcho(data){var _this2=this,buffCoverAreaList=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return data.forEach(function(item){switch(item.key){case"region":var list=_this2.getNameByCode(item.options,item.value);list[0]===list[1]&&(list[0]=list[0].substring(0,list[0].indexOf("市"))),list=list.join(""),item.value=list;break;case"coverAreaList":item.value=item.value.map(function(e){var t="";return e.forEach(function(e){buffCoverAreaList.forEach(function(a){a.coverCityCode===e&&(t+=a.coverCityName)})}),t}),item.value=item.value.join("，");break;case"branchBankName":item.value=_this2.subBranchBankName(data);break;case"taxpayerQualification":case"invoiceType":case"taxRatePercent":case"supplierStatus":case"isRegional":eval(item.key+"Options").forEach(function(e){e.value===item.value&&(item.value=e.label)})}}),data},subBranchBankName:function(e){var t="",a="";return e.forEach(function(e){"bankName"===e.key&&(t=e.value),"branchBankName"===e.key&&(a=e.value)}),t+a},tabClick:function(e){var t=this;clearTimeout(this.timer),this.bOk=!1,this.tabsValue=e+"",Object(vue_scrollto_src_scrollTo__WEBPACK_IMPORTED_MODULE_11__.a)()("#element"+(e+1)),this.timer=setTimeout(function(){t.bOk=!0},1e3)},saveBaseBefore:function(){this.isBaseRequired=!0},saveReplenishBefore:function(){this.isReplenishRequired=!0},resReplenishSubmitBool:function(e){var t=this;e?this.submitReplenishBefore():this._myMessage({msg:"您有信息待完善！",type:"error",cb:function(){t.isReplenishRequired=!1}})},resSubmitBool:function(e){var t=this;this.isSubmitList.push(e),3===this.isSubmitList.length&&(this.isSubmitList.every(function(e){return e})?this.submitBaseBefore():this._myMessage({msg:"您有信息待完善！",type:"error",cb:function(){t.isBaseRequired=!1}}))},submitReplenishBefore:function(){this.isReplenishRequired=!1;var e=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()({},this.replenishData),t=new babel_runtime_core_js_map__WEBPACK_IMPORTED_MODULE_1___default.a;e.coverAreaList.forEach(function(e){e.forEach(function(e,a){t.set(e,{coverCityCode:e,coverCityName:"",coverCityLevel:a+1,isFullCover:0})})}),t=(t=babel_runtime_core_js_array_from__WEBPACK_IMPORTED_MODULE_0___default()(t)).map(function(e){return e[1]});var a=JSON.parse(localStorage.getItem("areaList"));t.forEach(function(t){a.forEach(function(e){e.code!==t.coverCityCode?e.children&&t.coverCityCode.length>2&&e.children.forEach(function(e){e.code!==t.coverCityCode||(t.coverCityName=e.name)}):t.coverCityName=e.name}),void 0!==e.proviceCodeList&&e.proviceCodeList.forEach(function(e){e===t.coverCityCode&&(t.isFullCover=1)}),t.coverCityCode.length>2&&(t.isFullCover=1)}),e.coverAreaList=t,(e=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()(e,{id:this.operationInfo.id,supplierCode:this.operationInfo.supplierCode,creator:this.operationInfo.creator})).creator=this.operationInfo.creator,this._updateBeforeSupplier(e)},submitBaseBefore:function(){this.isBaseRequired=!1;var e=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()({},this.baseData,this.financeData,this.mailData);3===this.operationType?((e=babel_runtime_core_js_object_assign__WEBPACK_IMPORTED_MODULE_3___default()(e,{id:this.operationInfo.id,supplierCode:this.operationInfo.supplierCode,creator:this.operationInfo.creator})).creator=this.operationInfo.creator,this._updateSupplierBaseInfo(e)):(e.creator=this.name,this._createSupplier(e))},_getBankList:function(){var e=this;return babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function t(){return babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_api_PT_hotelManage__WEBPACK_IMPORTED_MODULE_8__.f)().then(function(t){e.financeInfo.list.forEach(function(a){"branchBankName"===a.key&&2!==e.operationType&&(a.options=t.data)}),1!==e.operationType&&t.data.forEach(function(t,a){t.code===e.operationInfo.bankCode&&(e.bankInfo=a)}),e.isInit=!0});case 2:case"end":return t.stop()}},t,e)}))()},_createSupplier:function(e){var t=this;Object(_api_IR_supplyManage__WEBPACK_IMPORTED_MODULE_9__.a)(e).then(function(e){if("success"===e.message)return t._myMessage({msg:"供应商创建成功！"}),void t.$router.go(-1);t._myMessage({msg:e.message,type:"error"})}).catch(function(e){t._myMessage({msg:e.message,type:"error"})})},_updateBeforeSupplier:function(e){var t=this;Object(_api_IR_supplyManage__WEBPACK_IMPORTED_MODULE_9__.i)(e).then(function(a){a.data.length>0?t._myConfirm({title:"提交编辑",msg:"供应商绑定的进行中项目数 <span style='color: #006072'>"+a.data.length+"</span> 是否继续提交编辑信息？",icon:"hint",yesBtnText:"确定",noBtnText:"取消"}).then(function(){t._updateSupplier(e)}).catch(function(){t._myMessage({msg:"已取消",type:"info"})}):t._myMessage({msg:"编辑成功！",type:"success",cb:function(){t.$router.go(-1)}})}).catch(function(e){t._myMessage({msg:e.message,type:"error"})})},_updateSupplier:function(e){var t=this;Object(_api_IR_supplyManage__WEBPACK_IMPORTED_MODULE_9__.j)(e).then(function(e){t._myMessage({msg:"编辑成功！",type:"success",cb:function(){t.$router.go(-1)}})}).catch(function(e){t._myMessage({msg:e.message,type:"error"})})},_getSupplierDetailsInfo:function(e){var t=this;Object(_api_IR_supplyManage__WEBPACK_IMPORTED_MODULE_9__.c)(e).then(function(e){t.operationInfo=e.data,t.dataHandle(t.operationInfo),t._getBankList()})},_updateSupplierBaseInfo:function(e){var t=this;Object(_api_IR_supplyManage__WEBPACK_IMPORTED_MODULE_9__.k)(e).then(function(e){"success"===e.message&&t._myMessage({msg:"编辑成功！",type:"success",cb:function(){t.$router.go(-1)}})})}}}},"360E":function(e,t,a){"use strict";a("EJiy");var i=a("P2sY"),n=a.n(i),r=a("rfXi"),o=a.n(r),s=a("jWXv"),l=a.n(s),_=a("14Xm"),u=a.n(_),c=a("sk9p"),p=a.n(c),f=a("D3Ub"),d=a.n(f),h={name:"FormView",props:{dataSetting:{type:Object,required:!0,default:function(){return{title:"",list:[]}}},dataIsbtngroup:{type:Boolean,default:function(){return!1}},dataIsrequired:{type:Boolean,default:function(){return!1}},dataOperationtype:{type:Number,default:function(){return 1}},dataBankindex:{type:Number,default:function(){return null}}},data:function(){return{select:"",title:this.dataSetting.title,form:{},rules:this.createRules(),formList:this.dataSetting.list,isBtnGroup:this.dataIsbtngroup,loadingFlag:!1,propsSingle:{value:"code",label:"name",expandTrigger:"hover"},city:[],bankInfo:this.dataBankindex}},computed:{formListFilter:function(){if(this.formList){return this.formList.filter(function(e){return e.label})}}},watch:{dataSetting:function(e){e&&(this.title=e.title,this.form=this.formObj(),this.rules=this.createRules(),this.formList=this.dataSetting.list)},dataIsbtngroup:function(e){this.isBtnGroup=e},dataIsrequired:function(e){e&&this.validateForm()},bankInfo:function(e){var t=this;null!==e&&this.formList.forEach(function(a){"selectInput"===a.type&&2!==t.dataOperationtype&&(t.form.bankCode=a.options[e].code,t.form.bankName=a.options[e].value)})},dataBankindex:function(e){this.bankInfo=e}},created:function(){this.form=this.formObj()},mounted:function(){var e=this;this.$nextTick(function(){e.iptChange()})},methods:{formObj:function(){var e=this;if(this.dataSetting.list){var t={};return this.dataSetting.list.forEach(function(a){t[a.key]=a.value,"coverAreaList"===a.key&&3===e.dataOperationtype&&e.selAreaFun(a)}),3!==this.dataOperationtype&&2!==this.dataOperationtype||void 0!==t.region&&this.cityChange(t),t}},createRules:function(){var e=this;if(2===this.dataOperationtype)return{};if(this.dataSetting.list){var t={};return this.dataSetting.list.forEach(function(a){if(a.isRequired)switch(t[a.key]=[],a.validate){case"mobile":t[a.key].push({required:!0,validator:e.validatePhone(),trigger:"blur"});break;case"email":t[a.key].push({required:!0,validator:e.checkEmail(),trigger:"blur"});break;case"select":t[a.key].push({required:!0,message:a.placeholder,trigger:"change"});break;case"greaterZero":t[a.key].push({required:!0,validator:e.greaterZero(),trigger:"change"});break;default:t[a.key].push({required:!0,message:a.placeholder,trigger:"blur"})}}),t}},validatePhone:function(){return function(e,t,a){if(!t)return a(new Error("请输入手机号/电话"));/^1[3|4|5|6|7|8|9]\d{9}$/.test(t)||/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(t)?a():a(new Error("请输入正确的手机号/电话"))}},checkEmail:function(){return function(e,t,a){if(!t)return a(new Error("请输入邮箱"));/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(t)?a():a(new Error("请输入正确的邮箱格式"))}},greaterZero:function(){return function(e,t,a){if(!t&&0!==t)return a(new Error("当前输入框不能为空"));setTimeout(function(){/^[0-9]+$/.test(t)?a():a(new Error("请输入整数并且不能是负数"))},500)}},cityChange:function(e){var t=this;return d()(u.a.mark(function a(){var i,n,r,o,s;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e&&(t.form=e),i=t.form,a.next=4,t.getNameByCode(i.region);case 4:n=a.sent,r=p()(n,2),o=r[0],s=r[1],i.proviceCode=i.region[0],i.cityCode=i.region[1],i.proviceName=o,i.cityName=s;case 12:case"end":return a.stop()}},a,t)}))()},changeBindData:function(e,t){var a=this;return d()(u.a.mark(function i(){return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("city"!==e){i.next=3;break}return i.next=3,a.cityChange();case 3:if("cityMultiple"!==e){i.next=6;break}return i.next=6,a.selAreaFun(t);case 6:a.iptChange();case 7:case"end":return i.stop()}},i,a)}))()},validateForm:function(){var e=this;this.$refs.form.validate(function(t){t?e.$emit("isSubmit",!0):e.$emit("isSubmit",!1)})},save:function(){this.$emit("save",!0)},goBack:function(){this.$router.go(-1)},getNameByCode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a=JSON.parse(localStorage.getItem("areaList")).find(function(t){return t.code===e[0]}),i=a.children.find(function(t){return t.code===e[1]}),n=i?i.name:"";return t.push(a.name),t.push(n),t},cancel:function(){this.$router.go(-1)},selAreaFun:function(e){var t=new l.a,a=new l.a,i=new l.a;return void 0===this.form[e.key]&&(this.form[e.key]=e.value),this.form[e.key].forEach(function(e){t.add(e[0]),a.add(e[1]),e.length>2&&i.add(e[2])}),this.repetitionFilter(e.options,o()(t),o()(a))},repetitionFilter:function(e,t,a){var i=n()([],t),r=n()([],a);i.forEach(function(i){var n=0;e.forEach(function(e){e.code===i&&(n=e.children.length)});var o=0;r.forEach(function(e){e.startsWith(i)&&(o+=1)}),n===o?a=a.filter(function(e){return!e.startsWith(i)}):t=t.filter(function(e){return e!==i})}),this.form.proviceCodeList=t,this.form.cityCodeList=a},iptChange:function(){this.$emit("input",this.form)}}},b=(a("EylR"),a("KHd+")),m=Object(b.a)(h,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formView",staticStyle:{"border-bottom":"20px solid #f8f9fa"}},[e._t("header"),e._v(" "),"HotelManageView"!==e.$route.name&&2!==e.dataOperationtype?a("el-form",{ref:"form",staticClass:"edit",staticStyle:{"padding-left":"20px","max-width":"630px","padding-right":"20px"},attrs:{rules:e.rules,model:e.form,"label-position":"left","label-width":"173px"}},[a("div",{staticClass:"infoList"},[e._l(e.formListFilter,function(t){return a("el-form-item",{key:t.key,attrs:{label:t.label,prop:t.key}},["input"===t.type||"number"===t.type?a("el-input",{style:{width:t.width?t.width:"100%"},attrs:{type:"input"===t.type?"text":t.type,placeholder:t.placeholder},on:{change:e.changeBindData},model:{value:e.form[t.key],callback:function(a){e.$set(e.form,t.key,"string"==typeof a?a.trim():a)},expression:"form[item.key]"}}):e._e(),e._v(" "),"radio"===t.type?a("el-radio-group",{model:{value:e.form[t.key],callback:function(a){e.$set(e.form,t.key,a)},expression:"form[item.key]"}},e._l(t.options,function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})):e._e(),e._v(" "),"region"===t.type?a("el-cascader",{style:{width:t.width?t.width:"100%"},attrs:{options:t.options,props:e.propsSingle,placeholder:t.placeholder,multiline:"",clearable:"",filterable:""},on:{change:function(t){e.changeBindData("city")}},model:{value:e.form[t.key],callback:function(a){e.$set(e.form,t.key,a)},expression:"form[item.key]"}}):e._e(),e._v(" "),"cityMultiple"===t.type?a("el-cascader",{style:{width:t.width?t.width:"100%"},attrs:{options:t.options,props:{multiple:!0,value:"code",label:"name",expandTrigger:"hover"},placeholder:"请选择",filterable:"","collapse-tags":"",clearable:""},on:{change:function(a){e.changeBindData("cityMultiple",t)}},model:{value:e.form[t.key],callback:function(a){e.$set(e.form,t.key,a)},expression:"form[item.key]"}}):e._e(),e._v(" "),"select"===t.type?a("el-select",{style:{width:t.width?t.width:"100%"},attrs:{placeholder:t.placeholder},on:{change:e.changeBindData},model:{value:e.form[t.key],callback:function(a){e.$set(e.form,t.key,a)},expression:"form[item.key]"}},e._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),"selectInput"===t.type?a("div",[a("el-select",{staticStyle:{width:"46.1%"},attrs:{placeholder:t.placeholder,filterable:"",clearable:""},on:{change:e.changeBindData},model:{value:e.bankInfo,callback:function(t){e.bankInfo=t},expression:"bankInfo"}},e._l(t.options,function(e,t){return a("el-option",{key:e.value,attrs:{label:e.value,value:t}})})),e._v(" "),a("el-input",{staticStyle:{width:"52.53%"},attrs:{disabled:null===e.bankInfo},on:{change:e.changeBindData},model:{value:e.form[t.key],callback:function(a){e.$set(e.form,t.key,a)},expression:"form[item.key]"}})],1):e._e()],1)}),e._v(" "),e.isBtnGroup?a("el-form-item",[a("el-button",{attrs:{loading:e.loadingFlag,type:"primary"},on:{click:e.save}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1):e._e()],2)]):e._e(),e._v(" "),"HotelManageView"!==e.$route.name&&2===e.dataOperationtype?a("el-form",{staticStyle:{"padding-left":"20px"},attrs:{model:e.form,"label-position":"left","label-width":"173px"}},[a("div",{staticClass:"infoList"},e._l(e.formListFilter,function(t){return a("el-form-item",{key:t.key,attrs:{label:t.label,prop:t.key}},[a("span",{staticClass:"viewInfo"},[e._v(e._s(e.form[t.key]))])])}))]):e._e()],2)},[],!1,null,"1af76fca",null);m.options.__file="index.vue";t.a=m.exports},EylR:function(e,t,a){"use strict";var i=a("LyGT");a.n(i).a},IZys:function(e,t,a){},LyGT:function(e,t,a){},ODRq:function(e,t,a){e.exports={default:a("UDep"),__esModule:!0}},UDep:function(e,t,a){a("wgeU"),a("FlQf"),a("bBy9"),a("g33z"),a("XLbu"),a("/h46"),a("dVTT"),e.exports=a("WEpk").Map},VKFn:function(e,t,a){a("bBy9"),a("FlQf"),e.exports=a("ldVq")},Vm1b:function(e,t,a){"use strict";a.r(t);var i=a("1aT1").a,n=(a("yYGd"),a("KHd+")),r=Object(n.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:!e.isInit,expression:"!isInit"}],staticClass:"hotel layout",attrs:{id:"hotelManage"}},[a("div",{staticClass:"tabHeader"},[a("el-tabs",{attrs:{"tab-position":"right"},model:{value:e.tabsValue,callback:function(t){e.tabsValue=t},expression:"tabsValue"}},e._l(e.sortArr,function(t,i){return a("el-tab-pane",{key:i},[a("div",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#element"+(i+1),expression:"'#element'+(index+1)"}],staticClass:"list",class:{active:e.tabsValue==i},attrs:{slot:"label",href:"#"},on:{click:function(t){e.tabClick(i)}},slot:"label"},[e._v(e._s(t))])])}))],1),e._v(" "),e.isInit?a("div",[a("FormView",{attrs:{id:"element1","data-operationtype":e.operationBaseType,"data-setting":e.baseInfo,"data-isrequired":e.isBaseRequired},on:{isSubmit:e.resSubmitBool},model:{value:e.baseData,callback:function(t){e.baseData=t},expression:"baseData"}},[a("div",{staticClass:"item-warp",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"item-title"},[e._v(e._s(e.baseInfo.title))]),e._v(" "),2===e.operationInfo.auditStatusOfPhaseOne||4===e.operationInfo.auditStatusOfPhaseOne?a("div",{ref:"one",staticClass:"auditStateBox"},[a("div",{class:2===e.operationInfo.auditStatusOfPhaseOne?"underway":""},[a("span",[a("i",{staticClass:"el-icon-warning"}),e._v("\n              "+e._s(2===e.operationInfo.auditStatusOfPhaseOne?"审核中":"审批驳回")+"\n            ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4===e.operationInfo.auditStatusOfPhaseOne,expression:"operationInfo.auditStatusOfPhaseOne === 4"}]},[e._v(e._s(null===e.operationInfo.approvalRemarkOfPhaseOne?"":e.operationInfo.approvalRemarkOfPhaseOne))])])]):e._e()])]),e._v(" "),a("FormView",{attrs:{id:"element2","data-operationtype":e.operationBaseType,"data-setting":e.financeInfo,"data-isrequired":e.isBaseRequired,"data-bankindex":e.bankInfo},on:{isSubmit:e.resSubmitBool},model:{value:e.financeData,callback:function(t){e.financeData=t},expression:"financeData"}},[a("div",{staticClass:"item-warp",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"item-title"},[e._v(e._s(e.financeInfo.title))])])]),e._v(" "),a("FormView",{attrs:{id:"element3","data-operationtype":e.operationBaseType,"data-setting":e.mailInfo,"data-isbtngroup":2!==e.operationType,"data-isrequired":e.isBaseRequired},on:{isSubmit:e.resSubmitBool,save:e.saveBaseBefore},model:{value:e.mailData,callback:function(t){e.mailData=t},expression:"mailData"}},[a("div",{staticClass:"item-warp",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"item-title"},[e._v(e._s(e.mailInfo.title))])])]),e._v(" "),1!==e.operationType?a("FormView",{attrs:{id:"element4","data-operationtype":e.operationReplenishType,"data-setting":e.replenishInfo,"data-isbtngroup":2!==e.operationType,"data-isrequired":e.isReplenishRequired},on:{isSubmit:e.resReplenishSubmitBool,save:e.saveReplenishBefore},model:{value:e.replenishData,callback:function(t){e.replenishData=t},expression:"replenishData"}},[a("div",{staticClass:"item-warp",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"item-title"},[e._v(e._s(e.replenishInfo.title))]),e._v(" "),2===e.operationInfo.auditStatusOfPhaseTwo||4===e.operationInfo.auditStatusOfPhaseTwo?a("div",{ref:"two",staticClass:"auditStateBox"},[a("div",{class:2===e.operationInfo.auditStatusOfPhaseTwo?"underway":""},[a("span",[a("i",{staticClass:"el-icon-warning"}),e._v("\n              "+e._s(2===e.operationInfo.auditStatusOfPhaseTwo?"审核中":"审批驳回")+"\n            ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4===e.operationInfo.auditStatusOfPhaseTwo,expression:"operationInfo.auditStatusOfPhaseTwo === 4"}]},[e._v(e._s(null===e.operationInfo.approvalRemarkOfPhaseTwo?"":e.operationInfo.approvalRemarkOfPhaseTwo))])])]):e._e()])]):e._e()],1):e._e()])},[],!1,null,"278bdf14",null);r.options.__file="operating.vue";t.default=r.exports},XLbu:function(e,t,a){var i=a("Y7ZC");i(i.P+i.R,"Map",{toJSON:a("8iia")("Map")})},dVTT:function(e,t,a){a("aPfg")("Map")},g33z:function(e,t,a){"use strict";var i=a("Wu5q"),n=a("n3ko");e.exports=a("raTm")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(n(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(n(this,"Map"),0===e?0:e,t)}},i,!0)},"k/8l":function(e,t,a){e.exports={default:a("VKFn"),__esModule:!0}},kCVz:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"g",function(){return o}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return l}),a.d(t,"k",function(){return _}),a.d(t,"i",function(){return u}),a.d(t,"j",function(){return c}),a.d(t,"h",function(){return p}),a.d(t,"f",function(){return f}),a.d(t,"c",function(){return d});var i=a("CcjM");function n(e){return Object(i.a)({url:"bzy-tr/supplierList",method:"get",params:e})}function r(e){return Object(i.a)({url:"bzy-tr/supplierProjectList",method:"get",params:e})}function o(e){return Object(i.a)({url:"bzy-tr/saveSupplierProject",method:"post",data:e})}function s(e){return Object(i.a)({url:"bzy-tr/project/projectDetails",method:"get",params:e})}function l(e){return Object(i.a)({url:"bzy-tr/supplier",method:"post",data:e})}function _(e){return Object(i.a)({url:"bzy-tr/supplier/base/update",method:"post",data:e})}function u(e){return Object(i.a)({url:"bzy-tr/supplier/add/update/with/check",method:"post",data:e})}function c(e){return Object(i.a)({url:"bzy-tr/supplier/add/update",method:"post",data:e})}function p(e){return Object(i.a)({url:"bzy-tr/supplier/suspend",method:"post",data:e})}function f(e){return Object(i.a)({url:"bzy-tr/supplier/list/by/"+e,method:"get"})}function d(e){return Object(i.a)({url:"bzy-tr/supplier/"+e,method:"get"})}},ldVq:function(e,t,a){var i=a("QMMT"),n=a("UWiX")("iterator"),r=a("SBuE");e.exports=a("WEpk").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||r.hasOwnProperty(i(t))}},sk9p:function(e,t,a){"use strict";t.__esModule=!0;var i=r(a("k/8l")),n=r(a("FyfS"));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return function(e,t){var a=[],i=!0,r=!1,o=void 0;try{for(var s,l=(0,n.default)(e);!(i=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},yYGd:function(e,t,a){"use strict";var i=a("IZys");a.n(i).a}}]);