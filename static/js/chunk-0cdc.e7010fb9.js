(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0cdc"],{"+iuc":function(t,e,n){n("wgeU"),n("FlQf"),n("bBy9"),n("B9jh"),n("dL40"),n("xvv9"),n("V+O7"),t.exports=n("WEpk").Set},"8iia":function(t,e,n){var i=n("QMMT"),r=n("RRc/");t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},B9jh:function(t,e,n){"use strict";var i=n("Wu5q"),r=n("n3ko");t.exports=n("raTm")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},C2SN:function(t,e,n){var i=n("93I4"),r=n("kAMH"),o=n("UWiX")("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},Qyx0:function(t,e,n){"use strict";n.r(e);var i=n("Y7rk"),r=n("tg1W"),o={data:function(){return{showHotelTab:null,detailList:[],currentPage:1,size:20,leadDate:[],totalPages:1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]}}},computed:{loading:function(){return this.$store.getters.loading},hotelName:function(){return this.$route.query.name?this.$route.query.name:""}},created:function(){this.query=this.$route.query,this.leadDate=[this.query.startDate,this.query.endDate],this.search()},methods:{sortByNumGmv:function(t,e){var n=t.gmvCompletion||0,i=e.gmvCompletion||0;return 100*parseFloat(n)-100*parseFloat(i)},sortByNumOcc:function(t,e){var n=t.occCompletion||0,i=e.occCompletion||0;return 100*parseFloat(n)-100*parseFloat(i)},sortByNumOta:function(t,e){var n=t.otaRevenueRatioCompletion||0,i=e.otaRevenueRatioCompletion||0;return 100*parseFloat(n)-100*parseFloat(i)},search:function(){this.detailList=[],this.query.radio&&this.leadDate&&this.leadDate.length&&(this.currentPage=1,"按酒店"===this.query.radio?(this._getHotelCompltionDetail(),this.showHotelTab=!0):(this._getCityCompltionDetail(),this.showHotelTab=!1))},handleSizeChange:function(t){this.size=t,this.search()},handleCurrentChange:function(t){this.currentPage=t,this.search()},_getHotelCompltionDetail:function(){var t=this,e={hotelCode:this.query.hotelCode,startDate:this.leadDate&&this.leadDate[0]?this.leadDate[0]:"",endDate:this.leadDate&&this.leadDate[1]?this.leadDate[1]:"",page:this.currentPage,size:this.size};this.postData=Object(r.a)(e),Object(i.h)(this.postData).then(function(e){t.detailList=e.data})},_getCityCompltionDetail:function(){var t=this,e={cityCode:this.query.cityCode,startDate:this.leadDate&&this.leadDate[0]?this.leadDate[0]:"",endDate:this.leadDate&&this.leadDate[1]?this.leadDate[1]:"",page:this.currentPage,size:this.size};this.postData=Object(r.a)(e),Object(i.c)(this.postData).then(function(e){t.detailList=e.data})}}},a=(n("uXRs"),n("KHd+")),s=Object(a.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"budget-detail layout"},[n("div",{staticClass:"tab-head"},[n("div",{staticClass:"tab-head-list"},[n("div",{staticClass:"title"},[n("span",{staticClass:"shu_icon"}),t._v(" "),t.showHotelTab?n("span",[t._v(t._s(0!==t.detailList.length?t.detailList[0].hotelName:""))]):t._e(),t._v(" "),t.showHotelTab?t._e():n("span",[t._v(t._s(0!==t.detailList.length?t.detailList[0].cityName:""))])]),t._v(" "),n("div",{staticClass:"tab-list-item"},[n("span",{staticClass:"left_label"},[t._v("录入日期")]),t._v(" "),n("el-date-picker",{staticStyle:{width:"250px"},attrs:{"picker-options":t.pickerOptions,type:"daterange","unlink-panels":"","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.leadDate,callback:function(e){t.leadDate=e},expression:"leadDate"}}),t._v(" "),n("div",{staticStyle:{"margin-right":"40px"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)])]),t._v(" "),n("div",{staticClass:"container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"show",rawName:"v-show",value:t.showHotelTab,expression:"showHotelTab"}],staticStyle:{width:"100%","border-radius":"8px"},attrs:{data:t.detailList,"default-sort":{prop:["bizDate","gmvCompletion","occCompletion","otaRevenueRatioCompletion"]},"max-height":"500","empty-text":"暂无数据"}},[n("el-table-column",{attrs:{fixed:"",sortable:"",prop:"bizDate",width:"300",label:"日期"}}),t._v(" "),n("el-table-column",{attrs:{"sort-method":t.sortByNumGmv,width:"300",sortable:"",prop:"gmvCompletion",label:"GMV预算完成度"}}),t._v(" "),n("el-table-column",{attrs:{"min-width":"1"}})],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"show",rawName:"v-show",value:!t.showHotelTab,expression:"!showHotelTab"}],staticStyle:{width:"100%","border-radius":"8px"},attrs:{data:t.detailList,"default-sort":{prop:["bizDate","gmvCompletion","occCompletion","otaRevenueRatioCompletion"]},"max-height":"500","empty-text":"暂无数据"}},[n("el-table-column",{attrs:{fixed:"",sortable:"",prop:"bizDate",width:"300",label:"日期"}}),t._v(" "),n("el-table-column",{attrs:{"sort-method":t.sortByNumGmv,width:"300",sortable:"",prop:"gmvCompletion",label:"GMV预算完成度"}}),t._v(" "),n("el-table-column",{attrs:{"min-width":"1"}})],1)],1)])},[],!1,null,"348f8a3a",null);s.options.__file="detail.vue";e.default=s.exports},"RRc/":function(t,e,n){var i=n("oioR");t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},"V+O7":function(t,e,n){n("aPfg")("Set")},V7Et:function(t,e,n){var i=n("2GTP"),r=n("M1xp"),o=n("JB68"),a=n("tEej"),s=n("v6xn");t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,d=6==t,f=5==t||d,p=e||s;return function(e,s,h){for(var v,m,y=o(e),b=r(y),_=i(s,h,3),g=a(b.length),C=0,w=n?p(e,g):u?p(e,0):void 0;g>C;C++)if((f||C in b)&&(m=_(v=b[C],C,y),t))if(n)w[C]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return C;case 2:w.push(v)}else if(c)return!1;return d?-1:l||c?c:w}}},Wu5q:function(t,e,n){"use strict";var i=n("2faE").f,r=n("oVml"),o=n("XJU/"),a=n("2GTP"),s=n("EXMj"),u=n("oioR"),l=n("MPFp"),c=n("UO39"),d=n("TJWN"),f=n("jmDH"),p=n("6/1s").fastKey,h=n("n3ko"),v=f?"_s":"size",m=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,i){s(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=i&&u(i,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=h(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=h(this,e),i=m(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(t){h(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(h(this,e),t)}}),f&&i(c.prototype,"size",{get:function(){return h(this,e)[v]}}),c},def:function(t,e,n){var i,r,o=m(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:m,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=h(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),d(e)}}},Y7rk:function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return d}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return p});var i=n("CcjM");function r(t){return Object(i.a)({url:"bzy-reports/hotelReport/queryCompletion",method:"post",data:t})}function o(t){return Object(i.a)({url:"bzy-reports/hotelReport/queryCompletionDetail",method:"post",data:t})}function a(t){return Object(i.a)({url:"bzy-reports/cityReport/queryCompletion",method:"post",data:t})}function s(t){return Object(i.a)({url:"bzy-reports/cityReport/queryCompletionDetail",method:"post",data:t})}function u(t){return Object(i.a)({url:"bzy-reports/"+"report/queryCooperation",method:"post",data:t})}function l(t){return Object(i.a)({url:"bzy-reports/hotelReport/queryHotelBusinessCollectionData",method:"get",params:t})}function c(t){return Object(i.a)({url:"bzy-reports/report/status/queryhotelAdminStatus",method:"get",params:t})}function d(t){return Object(i.a)({url:"bzy-reports/report/status/queryStoreManagerHotelAdminStatus",method:"get",params:t})}function f(t){return Object(i.a)(h("bzy-collection/historyRevenue/query",t))}function p(t){return Object(i.a)(h("bzy-collection/historyRevenue/queryDetail",t))}function h(t,e){return{url:t,method:"post",data:e}}},Yhby:function(t,e,n){},aPfg:function(t,e,n){"use strict";var i=n("Y7ZC"),r=n("eaoh"),o=n("2GTP"),a=n("oioR");t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,u=arguments[1];return r(this),(e=void 0!==u)&&r(u),void 0==t?new this:(n=[],e?(i=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,i++))})):a(t,!1,n.push,n),new this(n))}})}},cHUd:function(t,e,n){"use strict";var i=n("Y7ZC");t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},dL40:function(t,e,n){var i=n("Y7ZC");i(i.P+i.R,"Set",{toJSON:n("8iia")("Set")})},jWXv:function(t,e,n){t.exports={default:n("+iuc"),__esModule:!0}},n3ko:function(t,e,n){var i=n("93I4");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},raTm:function(t,e,n){"use strict";var i=n("5T2Y"),r=n("Y7ZC"),o=n("6/1s"),a=n("KUxP"),s=n("NegM"),u=n("XJU/"),l=n("oioR"),c=n("EXMj"),d=n("93I4"),f=n("RfKB"),p=n("2faE").f,h=n("V7Et")(0),v=n("jmDH");t.exports=function(t,e,n,m,y,b){var _=i[t],g=_,C=y?"set":"add",w=g&&g.prototype,D={};return v&&"function"==typeof g&&(b||w.forEach&&!a(function(){(new g).entries().next()}))?(g=e(function(e,n){c(e,g,t,"_c"),e._c=new _,void 0!=n&&l(n,y,e[C],e)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!b||"clear"!=t)&&s(g.prototype,t,function(n,i){if(c(this,g,t),!e&&b&&!d(n))return"get"==t&&void 0;var r=this._c[t](0===n?0:n,i);return e?this:r})}),b||p(g.prototype,"size",{get:function(){return this._c.size}})):(g=m.getConstructor(e,t,y,C),u(g.prototype,n),o.NEED=!0),f(g,t),D[t]=g,r(r.G+r.W+r.F,D),b||m.setStrong(g,t,y),g}},tg1W:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var i=n("jWXv"),r=n.n(i),o=n("rfXi"),a=n.n(o);function s(t){if(null===t||t){var e={};for(var n in t)void 0!==t[n]&&""!==t[n]&&null!==t[n]&&0!==t[n]&&(e[n]=t[n]);return e}}function u(t){var e="",n=t.map(function(t){return e=-1!==t.indexOf("proprietor")?"proprietor":-1!==t.indexOf("finance")?"finance":-1!==t.indexOf("all")?"all":""}),i=a()(new r.a(n));return e="",i.includes("finance")&&i.includes("proprietor")?e="admin":i.map(function(t){-1!==t.indexOf("finance")?e="finance":-1!==t.indexOf("proprietor")?e="proprietor":-1===t.indexOf("all")||e||(e="all")}),e}},uXRs:function(t,e,n){"use strict";var i=n("Yhby");n.n(i).a},v6xn:function(t,e,n){var i=n("C2SN");t.exports=function(t,e){return new(i(t))(e)}},xvv9:function(t,e,n){n("cHUd")("Set")}}]);