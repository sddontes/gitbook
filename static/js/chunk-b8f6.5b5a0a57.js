(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b8f6"],{"+c+A":function(t,e,a){"use strict";var l=a("YEIV"),n=a.n(l),i=a("jWXv"),o=a.n(i),r=a("rfXi"),s=a.n(r),u=a("uMSB"),c=a("32LA");e.a={data:function(){return{propsThaeter:{multiple:!0,value:"id",label:"nodeName",checkStrictly:!1},allData:[],warZone:[],warZone_arrive:[],thaeterList:[{value:1,label:"东南",children:[{value:2,label:"上海",children:[]},{value:7,label:"江苏",children:[]},{value:12,label:"浙江",children:[]}]},{value:17,label:"西北",children:[{value:18,label:"陕西",children:[]},{value:21,label:"新疆维吾尔族自治区",children:[]}]}]}},created:function(){this._getTheaterList()},methods:{_getTheaterList:function(){var t=this;Object(u.b)(0).then(function(e){t.allData=e.data,t.thaeterList=Object(c.a)(e.data)})},getThaeter:function(t){this.conductData(t)},conductData:function(t){var e=[];t.map(function(t){e.push(t[0])});var a=(e=s()(new o.a(e))).map(function(e){var a=[],l=[];return t.map(function(t){t[0]===e&&l.push(t[1]),a=n()({},e,l)}),a});this.getPost(a)},getPost:function(t){var e=[];this.thaeterList.map(function(a){t.map(function(t){for(var l in t)parseInt(l)===a.id&&(t[l].length===a.children.length?e.push(l):e.push(t[l]))})}),this.warZone=e.toString().split(","),this.warZone_arrive=e.toString().split(",")}}}},"+iuc":function(t,e,a){a("wgeU"),a("FlQf"),a("bBy9"),a("B9jh"),a("dL40"),a("xvv9"),a("V+O7"),t.exports=a("WEpk").Set},"0O56":function(t,e,a){"use strict";var l=a("A/oA");a.n(l).a},"32LA":function(t,e,a){"use strict";function l(t){return t.map(function(t){var e=[];return t.children.map(function(t){e.push({name:t.name,code:t.code})}),{name:t.name,code:t.code,children:e}})}function n(t){return t.map(function(t){var e=[];return t.children.map(function(t){e.push({nodeName:t.nodeName,id:t.id})}),{nodeName:t.nodeName,id:t.id,children:e}})}a.d(e,"b",function(){return l}),a.d(e,"a",function(){return n})},"8iia":function(t,e,a){var l=a("QMMT"),n=a("RRc/");t.exports=function(t){return function(){if(l(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},"A/oA":function(t,e,a){},B9jh:function(t,e,a){"use strict";var l=a("Wu5q"),n=a("n3ko");t.exports=a("raTm")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return l.def(n(this,"Set"),t=0===t?0:t,t)}},l)},C2SN:function(t,e,a){var l=a("93I4"),n=a("kAMH"),i=a("UWiX")("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),l(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},"Ch/I":function(t,e,a){"use strict";a.d(e,"f",function(){return n}),a.d(e,"h",function(){return i}),a.d(e,"g",function(){return o}),a.d(e,"d",function(){return r}),a.d(e,"c",function(){return s}),a.d(e,"j",function(){return u}),a.d(e,"e",function(){return c}),a.d(e,"k",function(){return d}),a.d(e,"b",function(){return h}),a.d(e,"a",function(){return v}),a.d(e,"i",function(){return p});var l=a("VLRh"),n=[{value:0,label:"全部"},{value:"T_00000001",label:"酒店图片上传"},{value:"T_00000002",label:"实勘"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"},{value:"T_00000010",label:"酒店图片上传--图片上传"},{value:"T_00000020",label:"实勘--改造评估报告图片上传"},{value:"T_00000030",label:"完整设计方案--整体设计方案图片上传"},{value:"T_00000040",label:"完整方案业主确定--业务确认函图片上传"},{value:"T_00000050",label:"下单制作安装--店招"},{value:"T_00000051",label:"下单制作安装--室内改造"},{value:"T_00000052",label:"下单制作安装--集采物质"}],i=[{value:0,label:"全部"},{value:1,label:"未开始"},{value:2,label:"进行中"},{value:3,label:"已完成"},{value:4,label:"已暂停"},{value:5,label:"已终止"}],o=[{value:0,label:"全部"},{value:"T_00000001",label:"评估照片上传"},{value:"T_00000002",label:"评估报告上传"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"}],r=[{value:0,label:"全部"},{value:l.h,label:"品牌加盟"},{value:l.n,label:"软保底"},{value:l.c,label:"商务咨询"},{value:l.g,label:"加盟保底"}],s=[{value:0,label:"全部"},{value:l.r,label:"待运营"},{value:l.k,label:"运营中"},{value:l.l,label:"已暂停"},{value:l.q,label:"已解约"}],u=[{value:0,label:"全部"},{value:l.p,label:"未分配"},{value:l.a,label:"已分配"},{value:l.b,label:"已到店"}],c=[{value:0,label:"待定"},{value:1,label:"爱马仕橙"},{value:2,label:"孔雀蓝"},{value:3,label:"经典蓝"},{value:4,label:"青春绿"}],d=[{label:"全部",value:0},{label:"一战区",value:1},{label:"二战区",value:2},{label:"三战区",value:3},{label:"四战区",value:4},{label:"五战区",value:5},{label:"六战区",value:6},{label:"七战区",value:7},{label:"八战区",value:8}],h=[{label:"未参加",value:0},{label:"不及格",value:1},{label:"及格",value:2},{label:"良好",value:3},{label:"优秀",value:4}],v=[{label:"未参加",value:0},{label:"未通过",value:1},{label:"通过",value:2}],p=[{label:"全部",value:""},{label:"已派单",value:1},{label:"未派单",value:0}]},OMKw:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAACdklEQVRYR+2Yv4sTQRTHv29AovgDrPQqGzltYpHMbCT2WongISLaWHnN/QFq7/0BNtpYidp4KNddn9PszEIwjT+uVyvh7kAjm3ky4sJmL5usyW4IYVNm58dn3ve9N28eYc5/lORrt9vLQoh1IroM4FjB/PvMvEVED6WUH4ftNQDY6XSWwzB8D+BkwWDJ5X/0+/2LjUbjc/LDAKDW+jURXQfw1lq76nnetyJBfd8/LYR4AuAaM28opVZGAhpj9pys1tqlouEikG63e6rX6zlD7Espj48DZDdASnnAN4u0pDEmdd8BkFEDS8AU5RbDglrrFhE185CZmbeVUpfia03tg0EQtJh5fgHzsNyoNaa2YAm48HmwjOKFl7iM4lLiKX2gvEmmNCBcMWKtRbLKcevORT046oCZALPcJMPqvETNtwRgDcANAGcA9Jl5h4g2ATyWUn4d+y5Oc9Ys9eAoQK31ChE9A3AixVq7RHS3Xq9vzPxVFwTBTWZ+AUCM8VXLzLeVUq/i4zJJPGkQGGOcrK6lMWA5a+3fkl8I0UqsvQvgfFzuogEfAbifPGD07o5cKvF9XUr5IPqvaMAvAM7+J2BXSnlhVoC/ARxymzlZPc/bHuYuvu83Y3L/klIemRXgTwCH//lbs1arvZsWMNfmkTHmA4BqbhLH2m9vKpXKarVa/T5pBLt5xph8gySvBmaUtF2aYeZPRDTQVhNCNMMwpGSaYeY9IjqXmmbcqWMt4CsAjk5iwfitorW+RUTPMybqO0qpl6mJehKYLHMcJICnSUtGc53lANxLwh2oZrJsNukYJ7cQYs1aezWWG3eEEJvW2mzFwqSbFznvDwSr4Th1V6xnAAAAAElFTkSuQmCC"},"RRc/":function(t,e,a){var l=a("oioR");t.exports=function(t,e){var a=[];return l(t,!1,a.push,a,e),a}},"RU/L":function(t,e,a){a("Rqdy");var l=a("WEpk").Object;t.exports=function(t,e,a){return l.defineProperty(t,e,a)}},Rqdy:function(t,e,a){var l=a("Y7ZC");l(l.S+l.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(t,e,a){t.exports={default:a("RU/L"),__esModule:!0}},"V+O7":function(t,e,a){a("aPfg")("Set")},V7Et:function(t,e,a){var l=a("2GTP"),n=a("M1xp"),i=a("JB68"),o=a("tEej"),r=a("v6xn");t.exports=function(t,e){var a=1==t,s=2==t,u=3==t,c=4==t,d=6==t,h=5==t||d,v=e||r;return function(e,r,p){for(var f,b,m=i(e),g=n(m),_=l(r,p,3),y=o(g.length),A=0,C=a?v(e,y):s?v(e,0):void 0;y>A;A++)if((h||A in g)&&(b=_(f=g[A],A,m),t))if(a)C[A]=b;else if(b)switch(t){case 3:return!0;case 5:return f;case 6:return A;case 2:C.push(f)}else if(c)return!1;return d?-1:u||c?c:C}}},VLRh:function(t,e,a){"use strict";a.d(e,"n",function(){return l}),a.d(e,"h",function(){return n}),a.d(e,"c",function(){return i}),a.d(e,"g",function(){return o}),a.d(e,"k",function(){return r}),a.d(e,"r",function(){return s}),a.d(e,"l",function(){return u}),a.d(e,"q",function(){return c}),a.d(e,"f",function(){return d}),a.d(e,"e",function(){return h}),a.d(e,"j",function(){return v}),a.d(e,"s",function(){return p}),a.d(e,"o",function(){return f}),a.d(e,"d",function(){return b}),a.d(e,"p",function(){return m}),a.d(e,"a",function(){return g}),a.d(e,"b",function(){return _}),a.d(e,"m",function(){return y}),a.d(e,"t",function(){return A}),a.d(e,"i",function(){return C});var l="SOLFT_GUARANTEE",n="LOGO_JOIN",i="BUSINESS_CONSULT",o="JOIN_GUARANTEE",r="OPERATIONING",s="WAIT_OPERATION",u="PAUSED",c="VERB",d="EAST_WEST_NORTH",h="EAST",v="NORTH",p="WEST_SOUTH",f="SOUTH",b="CENTRAL",m="UNALLOCATED",g="ALLOCATED",_="ARRIVED",y="PROPRIETOR_CONFIRMED",A="YEAR_GUARANTEE",C="MONTH_GUARANTEE"},Wu5q:function(t,e,a){"use strict";var l=a("2faE").f,n=a("oVml"),i=a("XJU/"),o=a("2GTP"),r=a("EXMj"),s=a("oioR"),u=a("MPFp"),c=a("UO39"),d=a("TJWN"),h=a("jmDH"),v=a("6/1s").fastKey,p=a("n3ko"),f=h?"_s":"size",b=function(t,e){var a,l=v(e);if("F"!==l)return t._i[l];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,u){var c=t(function(t,l){r(t,c,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[f]=0,void 0!=l&&s(l,a,t[u],t)});return i(c.prototype,{clear:function(){for(var t=p(this,e),a=t._i,l=t._f;l;l=l.n)l.r=!0,l.p&&(l.p=l.p.n=void 0),delete a[l.i];t._f=t._l=void 0,t[f]=0},delete:function(t){var a=p(this,e),l=b(a,t);if(l){var n=l.n,i=l.p;delete a._i[l.i],l.r=!0,i&&(i.n=n),n&&(n.p=i),a._f==l&&(a._f=n),a._l==l&&(a._l=i),a[f]--}return!!l},forEach:function(t){p(this,e);for(var a,l=o(t,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(l(a.v,a.k,this);a&&a.r;)a=a.p},has:function(t){return!!b(p(this,e),t)}}),h&&l(c.prototype,"size",{get:function(){return p(this,e)[f]}}),c},def:function(t,e,a){var l,n,i=b(t,e);return i?i.v=a:(t._l=i={i:n=v(e,!0),k:e,v:a,p:l=t._l,n:void 0,r:!1},t._f||(t._f=i),l&&(l.n=i),t[f]++,"F"!==n&&(t._i[n]=i)),t},getEntry:b,setStrong:function(t,e,a){u(t,e,function(t,a){this._t=p(t,e),this._k=a,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},a?"entries":"values",!a,!0),d(e)}}},YEIV:function(t,e,a){"use strict";e.__esModule=!0;var l,n=a("SEkw"),i=(l=n)&&l.__esModule?l:{default:l};e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},aPfg:function(t,e,a){"use strict";var l=a("Y7ZC"),n=a("eaoh"),i=a("2GTP"),o=a("oioR");t.exports=function(t){l(l.S,t,{from:function(t){var e,a,l,r,s=arguments[1];return n(this),(e=void 0!==s)&&n(s),void 0==t?new this:(a=[],e?(l=0,r=i(s,arguments[2],2),o(t,!1,function(t){a.push(r(t,l++))})):o(t,!1,a.push,a),new this(a))}})}},cHUd:function(t,e,a){"use strict";var l=a("Y7ZC");t.exports=function(t){l(l.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},dL40:function(t,e,a){var l=a("Y7ZC");l(l.P+l.R,"Set",{toJSON:a("8iia")("Set")})},jWXv:function(t,e,a){t.exports={default:a("+iuc"),__esModule:!0}},kyy3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAvtJREFUKBUdk11oHFUUx38zc2d3Zj+yidnZzQZbmhXrQ31KsCJUbRQ/sEiCELcofa2gIuqDIjQg+FDSB6Eg1AcVjOJDfVCkD34UP1JFsWpFbbFoNs1D2ia7idmP7M5kvjyz5zIzdy73f8/5nXOuhtjU8eNmo2sejWPtpB/HJflGJrGMCE1GiE6koRsxm6bBiZxf/ODyx6/vagfm5lIdw1nUzFQtjnzm7/ib1qbOO9v7sVMZ3CCiGt3guduucWaryq8bDmbsfWoWjaOqY5RqmqlqgR8wXujxpHuDoXKfp154Frv4IK73H9lvnyb/3TorE1l+XBvBtFKzXnP3eYUWL8RhSBiBk47ITA/BrQep7LsP9LxAZeHg/VD6jD3LMXosOIEvMu0NHbQishAGHocmH0Yd/oRw4i1WV9tEUcz1tZt08i/C3WeZeuRNhm2DUPaLGfogK8lMQ8ST+MYYnhsyNnoLG3/8Ts5UZEyLVjhBsXyA2qEpTD2REYtnecsTSFbr57+k+9tFdKWjhiR8K4MqFCCXYbd+lfpPP/DMkQeoOiOCGaIG4ijitbnHODJ1J50LSzTPfYFKa6T3Zml87uG3hHE4T276MIWRYTK2NUBSgZxw+5jDy7WZ5Bz6EyXaP5/GXfmaQnmJbapolWmcmVewrepgT5Qwa1J4XdO5vrXN0i+XCCXr7eY6ud4ipXidoLGXXLNNyX2XoHttIPzr3zr1m02UcOuJekdq/NLbH7JcX5FwCvQrj5PaX6ewr8HQPS28yYdI5+8aiD86/z3NdhddPCfMbUPXR7uej53PUxGEwFlgZ+Ne4t6fYI5jlZ4glU5qDq1eP/EoYUtepY9P6KY60+rtcPHKP+wZK6OUIl+ZFazZgSCWeifW6/W4tLxKyrIgCk+qODTfjzRvxkzbjy6cPZcsMprPstbYxHGK9F2X0O0zXqmw+NUFVrfawss3nmqfktaA8rFjWTscnvej6NXQ38U0DHzp1+ReJabkX5N5ILcrpYzTtpWZv/reqc7/eas21NzP5lEAAAAASUVORK5CYII="},n3ko:function(t,e,a){var l=a("93I4");t.exports=function(t,e){if(!l(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},pfto:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o}),a.d(e,"c",function(){return r});var l=a("4d7F"),n=a.n(l);function i(t){var e=new Date(t);return e.getFullYear()+"-"+(1===(e.getMonth()+1).toString().length?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(1===e.getDate().toString().length?"0"+e.getDate():e.getDate())}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new n.a(function(a,l){var n=new Date;n.setDate(n.getDate()-t);var o=new Date;o.setDate(o.getDate()-e);var r=[n=i(n),o=i(o)];r[1]&&a(r)})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Date,a=e.getFullYear(),l=e.getMonth()+1-t;return a+"-"+(l=l<10?"0"+l:l)}},raTm:function(t,e,a){"use strict";var l=a("5T2Y"),n=a("Y7ZC"),i=a("6/1s"),o=a("KUxP"),r=a("NegM"),s=a("XJU/"),u=a("oioR"),c=a("EXMj"),d=a("93I4"),h=a("RfKB"),v=a("2faE").f,p=a("V7Et")(0),f=a("jmDH");t.exports=function(t,e,a,b,m,g){var _=l[t],y=_,A=m?"set":"add",C=y&&y.prototype,w={};return f&&"function"==typeof y&&(g||C.forEach&&!o(function(){(new y).entries().next()}))?(y=e(function(e,a){c(e,y,t,"_c"),e._c=new _,void 0!=a&&u(a,m,e[A],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in C&&(!g||"clear"!=t)&&r(y.prototype,t,function(a,l){if(c(this,y,t),!e&&g&&!d(a))return"get"==t&&void 0;var n=this._c[t](0===a?0:a,l);return e?this:n})}),g||v(y.prototype,"size",{get:function(){return this._c.size}})):(y=b.getConstructor(e,t,m,A),s(y.prototype,a),i.NEED=!0),h(y,t),w[t]=y,n(n.G+n.W+n.F,w),g||b.setStrong(y,t,m),y}},t2Y8:function(t,e,a){"use strict";var l=a("QbLZ"),n=a.n(l),i=a("L2JU");function o(t,e){return e.includes(t)}e.a={computed:n()({},Object(i.b)(["name","btnPermissionRoles"])),created:function(){this._initBtnPermission()},methods:{_initBtnPermission:function(){var t=function(t,e){var a=[];if(t.length)return t.map(function(t){var l=t.split(":")[0],n=t.split(":")[1];l===e&&a.push(n)}),a}(this.btnPermissionRoles,this.PATH);this.btnArr=t,this.buttonFilter=o}}}},t8cb:function(t,e,a){"use strict";a.r(e);var l=a("Ch/I"),n=a("uMSB"),i=a("CcjM");var o=a("tg1W"),r=a("t2Y8"),s=a("kkBN"),u=a("pfto"),c=a("wo1R"),d=a("+c+A"),h="http://bzy.hhotel.com/bzy-collection/excelData",v={name:"HotelOperationImportIndex",mixins:[c.a,r.a,d.a],data:function(){return{radioVal:!1,importExcelHotelName:"",status:[],hotelStates:l.c,PATH:"hote-operation-import/index",formInputWidth:"168px",warZone:[],warZoneList:l.k,dialogVisible:!1,imagePath:a("OMKw"),tempHref:"http://bzyadmin.hhotel.com/download/运营数据导入模板V1OTA拆分.xlsx",tempHrefRenvenueClean:"http://bzyadmin.hhotel.com/download/运营数据导入模板数据清洗模版.xlsx",editable:!1,limit:1,dialogFormVisible:!1,reportForm:{name:"",hotelCode:""},headers:{Authorization:"bearer"+Object(s.a)()},action:"",formLabelWidth:"125px",activeNames:["1"],myOperationHotels:[],sideHotel:[],leadDate:[],hotelCodeList:[],revenves:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},timeDefaultShow:"",selectedHotelCode:"",selectedHotelName:"",page:1,size:20,totalPages:0,total:0,dataType:""}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;this._getPrevMonth(),Object(u.b)().then(function(e){t.leadDate=e,t.search(),t._getMyoperationHotel()})},methods:{initHotelList:function(){var t=this;Object(n.a)({val:""}).then(function(e){t.sideHotel=e.data})},_getMyoperationHotel:function(){var t=this;Object(i.a)({url:"bzy-hotel/resource/getReleationHotel",method:"get"}).then(function(e){t.myOperationHotels=e.data})},remoteHotel:function(t){var e=this;if(t=t&&t.replace(/^\s+|\s+$/g,"")){var a={val:t};Object(n.a)(a).then(function(t){e.sideHotel=t.data})}else Object(n.a)({val:""}).then(function(t){e.sideHotel=t.data})},filterSelect:function(t){this[t].includes(0)&&(this[t]=[0])},rowStyle:function(t){if("总计"===t.row.bizDateOrToal)return"color:#006072;"},handleSizeChange:function(t){this.size=t,this.search()},handleCurrentChange:function(t){this.page=t,this.search()},uploadError:function(t){this.$message({type:"error",message:JSON.parse(t.message).message})},handleExcelSuccess:function(t,e){this.dataType?this.$message({type:"success",message:"上传成功！数据的清洗与计算会统一在次日凌晨进行。"}):this.$message({type:"success",message:"导入数据成功"}),this.$refs.upload.clearFiles(),this.dialogFormVisible=!1,this.dialogVisible=!0},importExcel:function(t,e){this.importExcelHotelName=t,this.dialogFormVisible=!0,this.dataType="",this.reportForm.hotelCode="",this.sideHotel=[],this.selectedHotelCode=e,this.selectedHotelName=t,this.action=h+"?hotelCode="+e+"&hotelName="+t},selectHotel:function(t){var e="",a=t;this.sideHotel.forEach(function(a){a.code===t&&(e=a.name)}),this.selectedHotelCode=a,this.selectedHotelName=e,this.action=h+"/renvenueClean?hotelCode="+a+"&hotelName="+e,this.sideHotel=[]},toApply:function(){var t,e=this,a={userName:this.$store.state.user.info.name,jobNum:this.$store.state.user.info.jobNumber||"",mobile:this.$store.state.user.info.phone||"",hotelCode:this.selectedHotelCode,hotelName:this.selectedHotelName};(t=a,Object(i.a)({url:"bzy-hotel/hotel/sendPMSApply",method:"post",data:t})).then(function(t){e.dialogVisible=!1,e.$message({type:"success",message:"申请成功"})})},toViewMp4:function(){var t="http://train.hhotel.com/trainning/index.html";t=encodeURI(t),window.open(t,"_blank"),this.dialogVisible=!1},search:function(){this.leadDate.length&&this._getOriginRevenue()},handleChange:function(t){},submitUpload:function(){this.$refs.upload.submit()},tableRowClassName:function(t){var e=t.row;t.rowIndex;return e.isFillEmpty?"warning-row":""},disabledDate:function(t){return t.getTime()>Date.now()},getStyle:function(t){return"OPERATIONING"===t?"normal-text":"VERB"===t?"error-text":void 0},_getPrevMonth:function(){this.timeDefaultShow=new Date,this.timeDefaultShow.setMonth((new Date).getMonth()-1)},getRadioFun:function(){this._getOriginRevenue()},_getOriginRevenue:function(){var t=this;this.total=0,this.revenves=[];var e={isException:this.radioVal?1:0,status:this.status.includes(0)?[]:this.status,hotelCodes:this.hotelCodeList,queryStartDate:this.leadDate.length?this.leadDate[0]:"",queryEndDate:this.leadDate.length?this.leadDate[1]:"",proviceCode:this.cityValue.length?this.cityValue[0]:"",theaterNodeIds:this.warZone.includes(0)?[]:this.warZone,cityCode:this.cityValue.length?this.cityValue[1]:"",areaCode:this.cityValue.length?this.cityValue[2]:"",page:this.page,size:this.size},a=Object(o.a)(e);a.isException=this.radioVal?1:0,function(t){return Object(i.a)({url:"bzy-collection/originRevenue/query",method:"post",data:t})}(a).then(function(e){t.revenves=e.data.list,t.totalPages=e.data.totalPages,t.total=e.data.totalElements})},_formatHotelStatus:function(t){switch(t){case"OPERATIONING":return"运营中";case"WAIT_OPERATION":return"待运营";default:return"已暂停"}}}},p=(a("0O56"),a("KHd+")),f=Object(p.a)(v,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"layout",attrs:{id:"report"}},[l("div",{staticClass:"tab-head"},[l("div",{staticClass:"tab-head-list"},[l("el-row",[l("el-col",{attrs:{span:22}},[l("el-col",{attrs:{span:8}},[l("div",{staticClass:"tab-list-item",attrs:{id:"hotelScreen"}},[l("span",{staticClass:"left_label"},[t._v("酒店")]),t._v(" "),l("el-select",{staticStyle:{width:"168px",flex:"0 0 168px"},attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"请选择"},model:{value:t.hotelCodeList,callback:function(e){t.hotelCodeList=e},expression:"hotelCodeList"}},t._l(t.myOperationHotels,function(t){return l("el-option",{key:t.value,attrs:{label:t.name,value:t.code}})}))],1)]),t._v(" "),l("el-col",{attrs:{span:8}},[l("div",{staticClass:"tab-list-item",attrs:{id:"multiple_sty"}},[l("span",{staticClass:"left_label"},[t._v("战区")]),t._v(" "),l("el-cascader",{staticStyle:{width:"168px"},attrs:{options:t.thaeterList,props:t.propsThaeter,"collapse-tags":"",clearable:"",filterable:""},on:{change:t.getThaeter}})],1)]),t._v(" "),l("el-col",{attrs:{span:8}},[l("div",{staticClass:"tab-list-item"},[l("span",{staticClass:"left_label"},[t._v("区域")]),t._v(" "),l("el-cascader",{style:{width:t.formInputWidth},attrs:{options:t.city,props:t.props,filterable:"",clearable:"",placeholder:"请选择"},on:{change:t.selectCity},model:{value:t.cityValue,callback:function(e){t.cityValue=e},expression:"cityValue"}})],1)]),t._v(" "),l("el-col",{attrs:{span:8}},[l("div",{staticClass:"tab-list-item"},[l("span",{staticClass:"left_label"},[t._v("酒店状态")]),t._v(" "),l("el-select",{staticStyle:{width:"168px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:function(e){t.filterSelect("status")}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.hotelStates,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),l("el-col",{attrs:{span:8}},[l("div",{staticClass:"tab-list-item"},[l("span",{staticClass:"left_label"},[t._v("日期")]),t._v(" "),l("el-date-picker",{staticStyle:{width:"248px"},attrs:{editable:t.editable,"picker-options":t.pickerOptions,"default-value":t.timeDefaultShow,type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.leadDate,callback:function(e){t.leadDate=e},expression:"leadDate"}})],1)]),t._v(" "),l("el-col",{attrs:{span:8}},[l("div",{staticClass:"tab-list-item"},[l("span",{staticClass:"left_label"}),t._v(" "),l("el-checkbox",{staticClass:"right_radio",on:{change:t.getRadioFun},model:{value:t.radioVal,callback:function(e){t.radioVal=e},expression:"radioVal"}},[t._v("查看异常数据")])],1)])],1),t._v(" "),l("el-col",{attrs:{span:2}},[l("div",{staticClass:"tab-list-item"},[l("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)])],1)],1)]),t._v(" "),l("div",{staticClass:"btn-right"},[t.buttonFilter("ALTER",t.btnArr)?l("el-button",{staticClass:"btn-sub",attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0,t.dataType="ALTER",t.reportForm.hotelCode="",t.sideHotel=[]}}},[t._v("清洗数据")]):t._e()],1),t._v(" "),l("div",{staticClass:"report-content"},[l("el-collapse",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container",staticStyle:{padding:"20px"},on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.revenves,function(e){return l("el-collapse-item",{key:e.code},[l("template",{attrs:{name:e.name},slot:"title"},[l("el-row",{staticStyle:{width:"100%"}},[l("el-col",{attrs:{span:6}},[l("span",{staticClass:"shu_icon"}),t._v("\n              酒店名称："+t._s(e.name)+"\n            ")]),t._v(" "),l("el-col",{attrs:{span:4}},[t._v("\n              酒店状态：\n              "),l("span",{class:t.getStyle(e.status)},[t._v(t._s(t._formatHotelStatus(e.status)))])]),t._v(" "),l("el-col",{attrs:{span:5}},[t._v("房间数量："+t._s(e.srn))]),t._v(" "),l("el-col",{attrs:{span:6}},[t._v("更新时间："+t._s(e.updateTime))]),t._v(" "),l("el-col",{attrs:{span:2}},[t.buttonFilter("lead-in",t.btnArr)&&!e.isCloseButton?l("el-button",{staticClass:"btn-sub",attrs:{type:"primary"},on:{click:function(a){a.stopPropagation(),t.importExcel(e.name,e.code)}}},[t._v("导入数据")]):t._e()],1)],1)],1),t._v(" "),[l("el-table",{staticStyle:{width:"100%","border-radius":"6px"},attrs:{data:e.hotelRevenueOriginDataList,"row-class-name":t.tableRowClassName,"row-style":t.rowStyle,"empty-text":"暂无数据"}},[l("el-table-column",{attrs:{prop:"bizDateOrToal",label:"日期",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("div",{staticStyle:{display:"flex","align-items":"center"}},[l("div",{staticStyle:{width:"15px",height:"15px","margin-right":"6px"}},[e.row.frompms&&"总计"!==e.row.bizDateOrToal?l("img",{attrs:{src:a("kyy3")}}):t._e()]),t._v(" "),l("span",[t._v(t._s(e.row.bizDateOrToal))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"week",label:"星期",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"roomNightNum",label:"总出租间夜量",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"roomRevenue",label:"总客房收入",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"breakfastRevenue",label:"早餐收入",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otaNightNum",label:"OTA间夜量",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"otaRoomRevenue",label:"OTA客房收入",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"enterpriseCustomNightNum",label:"企业客户间夜量",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"enterpriseCustomRoomRevenue",label:"企业客户客房收入",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"teamNightNum",label:"团队间夜量",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"teamRoomRevenue",label:"团队客房收入",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"memberNightNum",label:"会员间夜量",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"memberRevenue",label:"会员收入",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"walkInNightNum",label:"上门散客间夜量",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"walkInRoomRevenue",label:"上门散客收入",width:"150"}})],1)]],2)}))],1),t._v(" "),l("div",{staticClass:"sum"},[t._v("共计"+t._s(t.total)+"条")]),t._v(" "),l("div",{staticClass:"pagination-content"},[l("div",{staticClass:"block"},[l("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[20,40,80,100],"page-size":t.size,"page-count":t.totalPages,layout:" sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),l("el-dialog",{attrs:{visible:t.dialogFormVisible,"show-close":!1,center:!0,title:"ALTER"===t.dataType?"清洗数据":"导入数据","custom-class":"importFile"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{model:t.reportForm}},["ALTER"===t.dataType?l("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"选择酒店"}},[l("el-select",{staticStyle:{width:"200px"},attrs:{"remote-method":t.remoteHotel,loading:t.loading,clearable:"",filterable:"",remote:"",placeholder:"请输入酒店名称/编号"},on:{focus:t.initHotelList,change:t.selectHotel},model:{value:t.reportForm.hotelCode,callback:function(e){t.$set(t.reportForm,"hotelCode",e)},expression:"reportForm.hotelCode"}},t._l(t.sideHotel,function(t){return l("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}))],1):l("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"酒店"}},[t._v("\n        "+t._s(t.importExcelHotelName)+"\n      ")]),t._v(" "),l("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"选择文件"}},[l("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-error":t.uploadError,headers:t.headers,"on-success":t.handleExcelSuccess,"auto-upload":!1,action:t.action,limit:t.limit}},[l("div",{staticClass:"viewFile"},[l("img",{attrs:{src:t.imagePath,alt:"浏览"}}),t._v(" "),l("p",{staticClass:"viewText"},[t._v("浏览")])])])],1),t._v(" "),l("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"下载模板"}},[l("a",{staticStyle:{display:"inline-block",width:"98px",height:"32px","line-height":"32px",background:"rgba(0,96,114,0.1)","border-radius":"4px",color:"#006072","text-align":"center"},attrs:{href:"ALTER"===t.dataType?t.tempHrefRenvenueClean:t.tempHref,target:"_blank"}},[t._v("下载模板")])]),t._v(" "),l("el-form-item",{attrs:{label:""}},[l("div",{staticStyle:{"padding-left":"125px",color:"#ff4e36","margin-top":"-24px"}},[t._v("\n          模版已更新 请重新下载\n        ")])])],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{staticClass:"btn-dialog-sub",on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{staticClass:"btn-dialog-primary",attrs:{type:"primary"},on:{click:t.submitUpload}},[t._v("保 存")])],1)],1),t._v(" "),l("el-dialog",{staticClass:"hintdialog",attrs:{visible:t.dialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"460px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("p",{staticClass:"hint-dialog-body-close el-icon-close",attrs:{slot:"title"},on:{click:function(e){t.dialogVisible=!1}},slot:"title"}),t._v(" "),l("div",{staticClass:"hint-dialog-body"},[l("p",{staticClass:"hint-dialog-body-toPms"},[t._v("\n        人工上传通道将在业绩起算日起20天后关闭，后续酒店经营数据会自动从PMS系统获取。\n        ")]),t._v(" "),l("p",{staticClass:"hint-dialog-body-tips"},[l("ul",[l("li",[t._v("未开通PMS系统的酒店，可点击【立即申请开通】")]),t._v(" "),l("li",[t._v("如有PMS系统使用问题，可点击【获取培训资料】")])])]),t._v(" "),l("p",{staticClass:"hint-dialog-body-btn-group"},[l("el-button",{on:{click:t.toViewMp4}},[t._v("获取培训资料")]),t._v(" "),l("el-button",{staticStyle:{"background-color":"#F75348",border:"none"},attrs:{type:"primary"},on:{click:t.toApply}},[t._v("立即申请开通")])],1)])])],1)},[],!1,null,null,null);f.options.__file="index.vue";e.default=f.exports},tg1W:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return s});var l=a("jWXv"),n=a.n(l),i=a("rfXi"),o=a.n(i);function r(t){if(null===t||t){var e={};for(var a in t)void 0!==t[a]&&""!==t[a]&&null!==t[a]&&0!==t[a]&&(e[a]=t[a]);return e}}function s(t){var e="",a=t.map(function(t){return e=-1!==t.indexOf("proprietor")?"proprietor":-1!==t.indexOf("finance")?"finance":-1!==t.indexOf("all")?"all":""}),l=o()(new n.a(a));return e="",l.includes("finance")&&l.includes("proprietor")?e="admin":l.map(function(t){-1!==t.indexOf("finance")?e="finance":-1!==t.indexOf("proprietor")?e="proprietor":-1===t.indexOf("all")||e||(e="all")}),e}},uMSB:function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"b",function(){return i}),a.d(e,"a",function(){return o});var l=a("CcjM");function n(t){return Object(l.a)({url:"bzy-upms/authUser/findUsersByRoleCode",method:"post",data:t})}function i(t){return Object(l.a)({url:"bzy-upms/theater/subList/"+t,method:"get"})}function o(t){return Object(l.a)({url:"bzy-hotel/hotel/queryLikeByNameOrCode",method:"get",params:t})}},v6xn:function(t,e,a){var l=a("C2SN");t.exports=function(t,e){return new(l(t))(e)}},wo1R:function(t,e,a){"use strict";var l=a("/uL/"),n=a("32LA");e.a={data:function(){return{city:[],hotels:[],needAreaData:!0,props:{value:"code",label:"name",checkStrictly:!0},cityValue:[]}},created:function(){this._getCity()},methods:{selectCity:function(t,e){this.provinceCode=t[0]||"",this.cityCode=t[1]||"",this.areaCode=t[2]||""},_getCity:function(){var t=this;Object(l.g)().then(function(e){t.city=t.needAreaData?e.data:Object(n.b)(e.data)})}}}},xvv9:function(t,e,a){a("cHUd")("Set")}}]);