(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-211e"],{"+c+A":function(e,t,a){"use strict";var l=a("YEIV"),n=a.n(l),o=a("jWXv"),i=a.n(o),r=a("rfXi"),s=a.n(r),u=a("uMSB"),c=a("32LA");t.a={data:function(){return{propsThaeter:{multiple:!0,value:"id",label:"nodeName",checkStrictly:!1},allData:[],warZone:[],warZone_arrive:[],thaeterList:[{value:1,label:"东南",children:[{value:2,label:"上海",children:[]},{value:7,label:"江苏",children:[]},{value:12,label:"浙江",children:[]}]},{value:17,label:"西北",children:[{value:18,label:"陕西",children:[]},{value:21,label:"新疆维吾尔族自治区",children:[]}]}]}},created:function(){this._getTheaterList()},methods:{_getTheaterList:function(){var e=this;Object(u.b)(0).then(function(t){e.allData=t.data,e.thaeterList=Object(c.a)(t.data)})},getThaeter:function(e){this.conductData(e)},conductData:function(e){var t=[];e.map(function(e){t.push(e[0])});var a=(t=s()(new i.a(t))).map(function(t){var a=[],l=[];return e.map(function(e){e[0]===t&&l.push(e[1]),a=n()({},t,l)}),a});this.getPost(a)},getPost:function(e){var t=[];this.thaeterList.map(function(a){e.map(function(e){for(var l in e)parseInt(l)===a.id&&(e[l].length===a.children.length?t.push(l):t.push(e[l]))})}),this.warZone=t.toString().split(","),this.warZone_arrive=t.toString().split(",")}}}},"/8lg":function(e,t,a){"use strict";a.d(t,"q",function(){return n}),a.d(t,"r",function(){return o}),a.d(t,"e",function(){return i}),a.d(t,"i",function(){return r}),a.d(t,"g",function(){return s}),a.d(t,"u",function(){return u}),a.d(t,"v",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"a",function(){return h}),a.d(t,"j",function(){return v}),a.d(t,"h",function(){return b}),a.d(t,"l",function(){return f}),a.d(t,"n",function(){return p}),a.d(t,"m",function(){return _}),a.d(t,"k",function(){return m}),a.d(t,"s",function(){return g}),a.d(t,"o",function(){return C}),a.d(t,"p",function(){return O}),a.d(t,"t",function(){return A}),a.d(t,"c",function(){return y}),a.d(t,"d",function(){return E}),a.d(t,"b",function(){return S});var l=a("CcjM");function n(e){return Object(l.a)({url:"bzy-upms/authUser/list",method:"get",params:e})}function o(e){return Object(l.a)({url:"bzy-upms/authUser/findUsersByRoleCode",method:"post",data:e})}function i(e){return Object(l.a)({url:"bzy-upms/authUser/getAllUser",method:"get",params:e})}function r(e){return Object(l.a)({url:"bzy-hotel/hotel/listEffective",method:"post",data:e})}function s(e){return Object(l.a)({url:"bzy-hotel/city/hotelAreaResourceList",method:"get",params:e})}function u(e){return Object(l.a)({url:"bzy-upms/user/hotelResource",method:"post",data:e})}function c(e){return Object(l.a)({url:"bzy-upms/user/hotelResource",method:"put",data:e})}function d(e){return Object(l.a)({url:"bzy-upms/user/hotelResource/getResourcesByUserForm",method:"post",data:e})}function h(e,t,a){var n="1"===e?"bzy-upms/user/hotelResource/"+t:"bzy-upms/user/hotelResource/"+t+"?allocationObject="+a;return Object(l.a)({url:n,method:"delete"})}function v(e){return Object(l.a)({url:"bzy-hotel/resource/getReleation/"+e,method:"get"})}function b(){return Object(l.a)({url:"bzy-upms/department/list",method:"get"})}function f(){return Object(l.a)({url:"bzy-upms/department/getSubDepartmentList",method:"get"})}function p(){return Object(l.a)({url:"bzy-upms/department/getSubUserRoleList",method:"get"})}function _(e){return Object(l.a)({url:"bzy-upms/user/hotelResource/querySubUserHotelResourceList",method:"post",data:e})}function m(){return Object(l.a)({url:"bzy-hotel/resource/getReleationHotelEffective",method:"get"})}function g(){return Object(l.a)({url:"bzy-hotel/city/hotelAreaPermissionResourceList",method:"get"})}function C(e){return Object(l.a)({url:"bzy-upms/theater/subList/"+e,method:"get"})}function O(e){return Object(l.a)({url:"bzy-upms/theater/getTheaterNodeDetails/"+e,method:"get",data:e})}function A(e){return Object(l.a)({url:"/bzy-upms/theater",method:"post",data:e})}function y(e){return Object(l.a)({url:"/bzy-upms/theater",method:"put",data:e})}function E(){return Object(l.a)({url:"bzy-upms/theater/queryAll",method:"get"})}function S(e){return Object(l.a)({url:"bzy-upms/theater/"+e,method:"delete"})}},"32LA":function(e,t,a){"use strict";function l(e){return e.map(function(e){var t=[];return e.children.map(function(e){t.push({name:e.name,code:e.code})}),{name:e.name,code:e.code,children:t}})}function n(e){return e.map(function(e){var t=[];return e.children.map(function(e){t.push({nodeName:e.nodeName,id:e.id})}),{nodeName:e.nodeName,id:e.id,children:t}})}a.d(t,"b",function(){return l}),a.d(t,"a",function(){return n})},"5OVc":function(e,t,a){},"6eFN":function(e,t,a){"use strict";a.r(t);var l=a("14Xm"),n=a.n(l),o=a("D3Ub"),i=a.n(o),r=a("+c+A"),s=a("/uL/"),u=a("tg1W"),c=a("Ch/I"),d=a("MO4u"),h=a("nS2P"),v=a("tyD3"),b=a("Aelc"),f=a("t2Y8"),p=a("qivC"),_={name:"HotelManageIndex",components:{FetchSuggestions:d.a},mixins:[v.a,f.a,b.a,r.a],data:function(){return{signMode:p.e,payStatus:p.c,signModeChecked:"",payStatusChecked:"",hotelChecked:!1,isGoto:!1,PATH:"hotel-manage/index",btnArr:[],code:"",hotelList:[],status:[],hotelAdminStatus:[],hotelDate:[],modeVal:[],totalSRN:"",totalGMV:"",total:null,showDeleteDialog:!1,signOnline:"",ownerConfirm:"",sortObj:{orderColumn:void 0,orderType:void 0},modes:c.d,shopStatus:c.j,yesOrNot:h.h,confirmStatus:h.b}},computed:{loading:function(){return this.$store.state.loading}},created:function(){this.ide=Object(u.b)(this.$store.state.user.permissionRoles),this._getHotel(),this._getRemoteData(),this._isExecute()},methods:{hotelCheckedFun:function(){this._getHotel()},getHeaderSty:function(e,t,a,l){},sortColumn:function(e){this.sortObj.orderColumn=e.prop,"ascending"===e.order?this.sortObj.orderType="asc":"descending"===e.order?this.sortObj.orderType="desc":(this.sortObj.orderType=void 0,this.sortObj.orderColumn=void 0),this.currentPage=1,this._getHotel()},getFetchCode:function(e){this.code=e},getRemark:function(e,t,a){var l=void 0;l=e?"临时挂起":"";var n=void 0;return t||(n=""),t&&(n=t.length>10?t.slice(0,15)+"...":t),"<div>"+l+"</div>\n              <div>"+n+"</div>\n              <div>"+(a&&a.length>15?a.slice(0,15)+"...":a||"")+"</div>"},_getRemoteData:function(){var e=this;Object(s.i)({page:1,size:9999}).then(function(t){e.hotelList=t.data.list,e.hotels=t.data.list.slice(0,20),e.total=parseInt(t.data.totalElements),e.totalGMV=t.data.totalGMV,e.totalSRN=t.data.totalSRN,e.totalPages=Math.ceil(e.total/e.size)})},filterSelect:function(e){this[e].includes(0)&&(this[e]=[0])},getStyle:function(e){return["ARRIVED","PROPRIETOR_CONFIRMED","OPERATIONING"].includes(e)?"normal-text":["UNALLOCATED","PAUSED","VERB"].includes(e)?"error-text":void 0},_getHotel:function(e){var t=this;return i()(n.a.mark(function a(){var l,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.hotels=[],l=t.getPostData(e),a.next=5,t.repetitionFilter(l.proviceCode,l.cityCode);case 5:o=a.sent,l.proviceCode=o.proviceCode,l.cityCode=o.cityCode,Object(s.i)(l).then(function(e){t.hotels=e.data.list,t.total=parseInt(e.data.totalElements),t.totalGMV=e.data.totalGMV,t.totalSRN=e.data.totalSRN,t.totalPages=e.data.totalPages,t.searchCode=""});case 9:case"end":return a.stop()}},a,t)}))()},handelDeleteHotel:function(e){var t=this;this.id=e.id,this.$confirm("此操作将永久删除该酒店, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.okDelete()}).catch(function(){t.cancel()})},openDialog:function(e){this.id=e.id,this.showDeleteDialog=!0},goHotelEdit:function(e,t){null!==this.isGoto&&this.$router.push({path:"/hotel-manage/edit/"+t.id+"?isExecute="+this.isGoto})},goHotelView:function(e,t){var a=this.$router.resolve({path:"/hotel-manage/view/"+t.id});window.open(a.href,"_blank")},jumpAdd:function(){this.isGoto&&null!==this.isGoto&&this.$router.push({path:"/hotel-manage/add"})},cancel:function(){this.showDeleteDialog=!1,this.$message({type:"info",message:"已取消删除"})},okDelete:function(){var e=this;this.showDeleteDialog=!1,Object(s.d)(this.id).then(function(t){e.$message({type:"success",message:"删除酒店成功",onClose:function(){e._getHotel(),e._getRemoteData()}})})},_isExecute:function(){var e=this;Object(s.p)().then(function(t){e.isGoto=t.data})},getPostData:function(e){var t={canOperationStatus:this.hotelChecked?"NOT_AVAILABLE":"",orderColumn:this.sortObj.orderColumn,orderType:this.sortObj.orderType,code:this.searchCode?this.searchCode:this.code,page:"pageChange"===e?this.currentPage:1,size:this.size,signOnline:this.signOnline,status:this.status.includes(0)?[]:this.status,theaterNodeIds:this.warZone,cooperationMode:this.modeVal.includes(0)?[]:this.modeVal,hotelAdminStatus:this.hotelAdminStatus.includes(0)?[]:this.hotelAdminStatus,startSignDate:this.hotelDate&&0!==this.hotelDate.length?this.hotelDate[0]:"",endSignDate:this.hotelDate&&0!==this.hotelDate.length?this.hotelDate[1]:"",proviceCode:0===this.proviceCode.length?null:this.proviceCode,cityCode:0===this.cityCode.length?null:this.cityCode,areaCode:0===this.areaCode.length?null:this.areaCode,ownerConfirm:this.ownerConfirm,payStatus:this.payStatusChecked,signMode:this.signModeChecked};return(t=Object(u.a)(t)).signOnline=this.signOnline,t},exportExcel:function(){var e=this;return i()(n.a.mark(function t(){var a,l,o,i,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="",(l=e.getPostData()).size="",l.page="",t.next=6,e.repetitionFilter(l.proviceCode,l.cityCode);case 6:for(i in o=t.sent,l.proviceCode=o.proviceCode,l.cityCode=o.cityCode,l)l[i]&&(a+="&"+i+"="+l[i]);a=a.substring(1),a+="&userId="+e.$store.state.user.userId,r="http://bzy.hhotel.com/bzy-hotel/hotel/exportHotelInfo?"+a,r=encodeURI(r),window.open(r,"_blank");case 16:case"end":return t.stop()}},t,e)}))()}}},m=(a("deUS"),a("KHd+")),g=Object(m.a)(_,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotel layout",attrs:{id:"hotelManage"}},[a("div",{staticClass:"tab-head"},[a("div",{staticClass:"tab-head-list"},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-col",{attrs:{span:8}},[a("fetchSuggestions",{attrs:{"hotel-list":e.hotelList,"search-title":"酒店"},on:{getFetchCode:e.getFetchCode}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item",attrs:{id:"multiple_sty"}},[a("span",{staticClass:"left_label"},[e._v("战区")]),e._v(" "),a("el-cascader",{staticStyle:{width:"168px"},attrs:{options:e.thaeterList,props:e.propsThaeter,"collapse-tags":"",clearable:"",filterable:""},on:{change:e.getThaeter}})],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("城市")]),e._v(" "),a("el-cascader",{staticStyle:{width:"168px"},attrs:{options:e.selList,props:{multiple:!0,value:"code",label:"name"},placeholder:"请选择省份",filterable:"","collapse-tags":"",clearable:""},on:{change:e.selAreaFun},model:{value:e.areaCodeList,callback:function(t){e.areaCodeList=t},expression:"areaCodeList"}})],1)])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"tab-list-item"},[a("el-button",{staticClass:"base_btn",attrs:{type:"primary"},on:{click:e.search}},[e._v("\n              查询")])],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("合作模式")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:function(t){e.filterSelect("modeVal")}},model:{value:e.modeVal,callback:function(t){e.modeVal=t},expression:"modeVal"}},e._l(e.modes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("酒店状态")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:function(t){e.filterSelect("status")}},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.hotelStates,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("店长状态")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},on:{change:function(t){e.filterSelect("hotelAdminStatus")}},model:{value:e.hotelAdminStatus,callback:function(t){e.hotelAdminStatus=t},expression:"hotelAdminStatus"}},e._l(e.shopStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("业主已确认")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.ownerConfirm,callback:function(t){e.ownerConfirm=t},expression:"ownerConfirm"}},e._l(e.confirmStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("线上签约")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.signOnline,callback:function(t){e.signOnline=t},expression:"signOnline"}},e._l(e.yesOrNot,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("签约日期")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"248px",flex:"0 0 248px"},attrs:{type:"daterange","range-separator":"-","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.hotelDate,callback:function(t){e.hotelDate=t},expression:"hotelDate"}})],1)])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"tab-list-item"},[a("span",{staticClass:"left_label"},[e._v("签约模式")]),e._v(" "),a("el-select",{staticStyle:{width:"168px"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.signModeChecked,callback:function(t){e.signModeChecked=t},expression:"signModeChecked"}},e._l(e.signMode,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"btn-right"},[a("el-checkbox",{on:{change:e.hotelCheckedFun},model:{value:e.hotelChecked,callback:function(t){e.hotelChecked=t},expression:"hotelChecked"}},[e._v("\n      待完善酒店")]),e._v(" "),e.buttonFilter("add",e.btnArr)?a("span",{attrs:{icon:"el-icon-plus"},on:{click:e.jumpAdd}},[a("i",{staticClass:"addIcon"},[e._v("+")]),e._v("新增酒店\n    ")]):e._e(),e._v(" "),e.buttonFilter("export",e.btnArr)?a("span",{on:{click:e.exportExcel}},[a("i",{staticClass:"iconfont iconic_download"}),e._v("导出\n    ")]):e._e()],1),e._v(" "),a("div",{staticClass:"container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","border-radius":"6px"},attrs:{data:e.hotels,"default-sort":{prop:["signDate","hotelAdminStatus","srn","monthGMV","avgYearOcc","updateTime"]},"max-height":"500","empty-text":"暂无数据"},on:{"sort-change":e.sortColumn}},[a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{fixed:"",prop:"code",label:"酒店编号","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"code-box"},[a("div",[a("p",[e._v(e._s(t.row.code))]),e._v(" "),a("p",{class:e.getStyle(t.row.status)},[e._v("\n                "+e._s(t.row.statusCN)+"\n              ")])]),e._v(" "),a("div",{staticClass:"right",style:{color:t.row.hangDuration?"":"#FF4E36"}},[a("el-tooltip",{staticClass:"item",attrs:{visible:!0,effect:"dark",placement:"bottom"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.getRemark(t.row.hangDuration,t.row.pausedType,t.row.exceptionMessage))},slot:"content"}),e._v(" "),"PAUSED"===t.row.status||t.row.bException?a("svg-icon",{attrs:{"icon-class":"exception"}}):e._e()],1)],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"酒店名称","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{display:"flex"}},[e._v("\n            "+e._s(t.row.name)+"\n            "),"HELLO_MODE"===t.row.signMode?a("i",{staticClass:"iconfont iconnihaomoshi signModeFont",staticStyle:{color:"#006072"}}):e._e(),e._v(" "),"H_MODE"===t.row.signMode?a("i",{staticClass:"iconfont iconHmoshi signModeFont",staticStyle:{color:"#67C9B4"}}):e._e()]),e._v(" "),a("p",[e._v(e._s(t.row.proviceName+" "+t.row.cityName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"bdpioneer",label:"所属BD","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"signDate",sortable:"custom",label:"签约日期","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.signDate))]),e._v(" "),a("p",[e._v(e._s(t.row.cooperationModeCN))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"hotelAdminStatus",sortable:"custom",label:"店长状态","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:e.getStyle(t.row.hotelAdminStatus)},[e._v(e._s(t.row.hotelAdminStatusCN))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"srn",label:"SRN","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"monthGMV",label:"预估GMV ","min-width":"110"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom",prop:"updateTime",label:"更新时间","min-width":"110"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.buttonFilter("view",e.btnArr)?a("el-button",{attrs:{title:"查看",size:"mini",icon:"el-icon-view",circle:""},on:{click:function(a){e.goHotelView(t.$index,t.row)}}}):e._e(),e._v(" "),e.buttonFilter("edit",e.btnArr)?a("el-button",{attrs:{title:"编辑",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(a){e.goHotelEdit(t.$index,t.row)}}}):e._e(),e._v(" "),e.buttonFilter("delete",e.btnArr)?a("el-button",{attrs:{title:"删除",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(a){e.handelDeleteHotel(t.row)}}}):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"sum"},[e._v("\n    共计"+e._s(e.total)+"条 累计房间数:"+e._s(e.totalSRN)+" 累计GMV:"+e._s(e.totalGMV)+"\n  ")]),e._v(" "),a("div",{staticClass:"pagination-content"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[20,40,80,100],"page-size":e.size,"page-count":e.totalPages,layout:" sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.showDeleteDialog,title:"提示",width:"30%",center:""},on:{"update:visible":function(t){e.showDeleteDialog=t}}},[a("span",[e._v("确定要删除这家酒店么?")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.okDelete}},[e._v("确 定")])],1)])],1)},[],!1,null,"7af023c9",null);g.options.__file="index.vue";t.default=g.exports},Aelc:function(e,t,a){"use strict";a("EJiy");var l=a("rfXi"),n=a.n(l),o=a("jWXv"),i=a.n(o),r=a("/8lg"),s=a("32LA");t.a={data:function(){return{selList:[],isAll:!1,needAreaData:!0,props:{value:"code",label:"name",checkStrictly:!0},areaCodeList:[],proviceCode:[],cityCode:[],areaCode:[]}},created:function(){this._getCityList()},methods:{selAreaFun:function(e){var t=new i.a,a=new i.a,l=new i.a;e.forEach(function(e){t.add(e[0]),a.add(e[1]),e.length>2&&l.add(e[2])}),this.proviceCode=n()(t),this.cityCode=n()(a),this.areaCode=n()(l)},repetitionFilter:function(e,t){var a=this;return this.proviceCode.forEach(function(l){var n=0;a.selList.forEach(function(e){e.code===l&&(n=e.children.length)});var o=0;a.cityCode.forEach(function(e){e.startsWith(l)&&(o+=1)}),n===o?t=t.filter(function(e){return!e.startsWith(l)}):e=e.filter(function(e){return e!==l})}),{proviceCode:e,cityCode:t}},_getCityList:function(){var e=this;Object(r.g)().then(function(t){var a=e.needAreaData?[t.data]:[Object(s.b)(t.data)];e.selList=e.isAll?a:a[0].children})}}}},Beyx:function(e,t,a){},"Ch/I":function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"h",function(){return o}),a.d(t,"g",function(){return i}),a.d(t,"d",function(){return r}),a.d(t,"c",function(){return s}),a.d(t,"j",function(){return u}),a.d(t,"e",function(){return c}),a.d(t,"k",function(){return d}),a.d(t,"b",function(){return h}),a.d(t,"a",function(){return v}),a.d(t,"i",function(){return b});var l=a("VLRh"),n=[{value:0,label:"全部"},{value:"T_00000001",label:"酒店图片上传"},{value:"T_00000002",label:"实勘"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"},{value:"T_00000010",label:"酒店图片上传--图片上传"},{value:"T_00000020",label:"实勘--改造评估报告图片上传"},{value:"T_00000030",label:"完整设计方案--整体设计方案图片上传"},{value:"T_00000040",label:"完整方案业主确定--业务确认函图片上传"},{value:"T_00000050",label:"下单制作安装--店招"},{value:"T_00000051",label:"下单制作安装--室内改造"},{value:"T_00000052",label:"下单制作安装--集采物质"}],o=[{value:0,label:"全部"},{value:1,label:"未开始"},{value:2,label:"进行中"},{value:3,label:"已完成"},{value:4,label:"已暂停"},{value:5,label:"已终止"}],i=[{value:0,label:"全部"},{value:"T_00000001",label:"评估照片上传"},{value:"T_00000002",label:"评估报告上传"},{value:"T_00000003",label:"完整设计方案"},{value:"T_00000004",label:"完整方案业主确定"},{value:"T_00000005",label:"下单制作安装"}],r=[{value:0,label:"全部"},{value:l.h,label:"品牌加盟"},{value:l.n,label:"软保底"},{value:l.c,label:"商务咨询"},{value:l.g,label:"加盟保底"}],s=[{value:0,label:"全部"},{value:l.r,label:"待运营"},{value:l.k,label:"运营中"},{value:l.l,label:"已暂停"},{value:l.q,label:"已解约"}],u=[{value:0,label:"全部"},{value:l.p,label:"未分配"},{value:l.a,label:"已分配"},{value:l.b,label:"已到店"}],c=[{value:0,label:"待定"},{value:1,label:"爱马仕橙"},{value:2,label:"孔雀蓝"},{value:3,label:"经典蓝"},{value:4,label:"青春绿"}],d=[{label:"全部",value:0},{label:"一战区",value:1},{label:"二战区",value:2},{label:"三战区",value:3},{label:"四战区",value:4},{label:"五战区",value:5},{label:"六战区",value:6},{label:"七战区",value:7},{label:"八战区",value:8}],h=[{label:"未参加",value:0},{label:"不及格",value:1},{label:"及格",value:2},{label:"良好",value:3},{label:"优秀",value:4}],v=[{label:"未参加",value:0},{label:"未通过",value:1},{label:"通过",value:2}],b=[{label:"全部",value:""},{label:"已派单",value:1},{label:"未派单",value:0}]},MO4u:function(e,t,a){"use strict";var l={name:"FetchSuggestions",props:{hotelList:{type:Array,required:!0},searchTitle:{type:String,required:!0}},data:function(){return{code:"",searchCode:""}},methods:{blurSearch:function(){var e=this;if(this.code){var t=this.hotelList.find(function(t){return t.name===e.code||t.code===e.code});this.searchCode=t?t.code:this.code,this.$emit("getFetchCode",this.searchCode)}else this.$emit("getFetchCode",this.code)},handleSelect:function(e){this.searchCode=e.code,this.$emit("getFetchCode",this.searchCode)},querySearch:function(e,t){var a=this.hotelList;t(e?a.filter(this.createFilter(e)):a)},createFilter:function(e){return function(t){return t.name.indexOf(e)>-1}}}},n=(a("aT9M"),a("KHd+")),o=Object(n.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-list-item"},[e.searchTitle?a("span",{staticStyle:{display:"inline-block",flex:"0 0 70px","margin-right":"10px","text-align":"right"}},[e._v(e._s(e.searchTitle))]):e._e(),e._v(" "),a("el-autocomplete",{staticStyle:{width:"168px",flex:"0 1 atuo"},attrs:{"fetch-suggestions":e.querySearch,clearable:"","value-key":"name",placeholder:"酒店名称/编号"},on:{select:e.handleSelect,blur:e.blurSearch,clear:e.blurSearch},nativeOn:{change:function(t){return e.blurSearch(t)}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)},[],!1,null,"cff8e71e",null);o.options.__file="index.vue";t.a=o.exports},"RU/L":function(e,t,a){a("Rqdy");var l=a("WEpk").Object;e.exports=function(e,t,a){return l.defineProperty(e,t,a)}},Rqdy:function(e,t,a){var l=a("Y7ZC");l(l.S+l.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(e,t,a){e.exports={default:a("RU/L"),__esModule:!0}},VLRh:function(e,t,a){"use strict";a.d(t,"n",function(){return l}),a.d(t,"h",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"g",function(){return i}),a.d(t,"k",function(){return r}),a.d(t,"r",function(){return s}),a.d(t,"l",function(){return u}),a.d(t,"q",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"e",function(){return h}),a.d(t,"j",function(){return v}),a.d(t,"s",function(){return b}),a.d(t,"o",function(){return f}),a.d(t,"d",function(){return p}),a.d(t,"p",function(){return _}),a.d(t,"a",function(){return m}),a.d(t,"b",function(){return g}),a.d(t,"m",function(){return C}),a.d(t,"t",function(){return O}),a.d(t,"i",function(){return A});var l="SOLFT_GUARANTEE",n="LOGO_JOIN",o="BUSINESS_CONSULT",i="JOIN_GUARANTEE",r="OPERATIONING",s="WAIT_OPERATION",u="PAUSED",c="VERB",d="EAST_WEST_NORTH",h="EAST",v="NORTH",b="WEST_SOUTH",f="SOUTH",p="CENTRAL",_="UNALLOCATED",m="ALLOCATED",g="ARRIVED",C="PROPRIETOR_CONFIRMED",O="YEAR_GUARANTEE",A="MONTH_GUARANTEE"},YEIV:function(e,t,a){"use strict";t.__esModule=!0;var l,n=a("SEkw"),o=(l=n)&&l.__esModule?l:{default:l};t.default=function(e,t,a){return t in e?(0,o.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},aT9M:function(e,t,a){"use strict";var l=a("5OVc");a.n(l).a},deUS:function(e,t,a){"use strict";var l=a("Beyx");a.n(l).a},mDvr:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o});var l=a("CcjM");function n(e){return Object(l.a)({url:"bzy-collection/originBuget/query",method:"post",data:e})}function o(e){return Object(l.a)({url:"bzy-hotel/hotel/list",method:"get",params:e})}},nS2P:function(e,t,a){"use strict";a.d(t,"g",function(){return n}),a.d(t,"e",function(){return o}),a.d(t,"d",function(){return i}),a.d(t,"c",function(){return r}),a.d(t,"f",function(){return s}),a.d(t,"h",function(){return u}),a.d(t,"b",function(){return c}),a.d(t,"a",function(){return d});var l=a("VLRh"),n=[{value:l.t,label:"年保底"},{value:l.i,label:"月保底"}],o=[{value:l.p,label:"未分配",disabled:!0},{value:l.a,label:"已分配",disabled:!0},{value:l.b,label:"已到店"},{value:l.m,label:"业主已确认"}],i=[{value:l.h,label:"品牌加盟"},{value:l.n,label:"软保底"},{value:l.c,label:"商务咨询"},{value:l.g,label:"加盟保底"}],r=[{value:l.f,label:"东西北战区"},{value:l.e,label:"华东战区"},{value:l.j,label:"华北战区"},{value:l.s,label:"西南战区"},{value:l.o,label:"华南战区"},{value:l.d,label:"华中战区"}],s=[{value:l.r,label:"待运营"},{value:l.k,label:"运营中"},{value:l.l,label:"已暂停"},{value:l.q,label:"已解约"}],u=[{value:1,label:"是",label_other:"有"},{value:0,label:"否",label_other:"无"}],c=[{value:"CONFIRMED",label:"是"},{value:"UNCONFIRMED",label:"否"}],d=[{value:"NOMAL",label:"常规"},{value:"MANAGE_FEE_GURANTEEE",label:"管理费硬保底"}]},qivC:function(e,t,a){"use strict";a.d(t,"b",function(){return l}),a.d(t,"d",function(){return n}),a.d(t,"f",function(){return o}),a.d(t,"e",function(){return i}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return s});var l=[{label:"甲方-OTA问题  美团下线",value:"PARTY_A_OTA_PROBLEM_MEITUAN_DOWN"},{label:"甲方-竞对搅局  OYO介入",value:"PARTY_A_COMPETITER_SPOIL_OYO"},{label:"甲方-竞对搅局  其他",value:"PARTY_A_COMPETITER_SPOIL_OTHER"},{label:"甲方-逾期缴费",value:"PARTY_A_OVERDUE_PAYMENT"},{label:"甲方-业主原因",value:"PARTY_A_OWNER_REASON"},{label:"甲方-施工方案问题",value:"PARTY_A_CONSTRUCTION_PLAN_PROBLEM"},{label:"甲方-酒店转让",value:"PARTY_A_HOTELTRANSFER"},{label:"甲方-资质问题",value:"PARTY_A_QUALIFICATION_PROBLEM"},{label:"乙方-店长问题",value:"PARTY_B_HOTEL_MANAGER_PROBLEM"},{label:"甲方-门店装修",value:"PARTY_A_STORE_DECORATION_PROBLEM"},{label:"甲方-业主间纠纷",value:"PARTY_A_OVERDUE_DISPUTE"},{label:"乙方-BD签约问题",value:"PARTY_B_BD_SIGNING_PROBLEM"},{label:"甲方-管理费保底合同",value:"PARTY_A_MF_GUARANTEE_CONTRACT"},{label:"甲方-不认可店长收费模式",value:"PARTY_A_DISAPPROVED_CHARGING_MODE"},{label:"甲方-不配合运营工作",value:"PARTY_A_NOT_COOPERATE_BUSINESS"},{label:"甲方-旺季不同意进店",value:"PARTY_A_BUSY_SEASON_NOT_ENTER"}],n=[{label:"标准计费",value:"STANDARD_ACCOUNTING"},{label:"固定计费",value:"FIXED_ACCOUNTING"},{label:"计费保底",value:"ACCOUNTING_GUARANTEE"},{label:"业绩保底A",value:"ACHIEVEMENT_GUARANTEE_A"},{label:"业绩保底B",value:"ACHIEVEMENT_GUARANTEE_B"}],o=[{code:"1",value:"上海慧住信息科技有限公司"},{code:"2",value:"舍住（上海）信息技术有限公司"}],i=[{value:"HELLO_MODE",label:"你好模式"},{value:"H_MODE",label:"H模式"}],r=[{value:"UNPAID",label:"未付费"},{value:"PAID",label:"已付费"},{value:"FREE",label:"无需付费"}],s=[{label:"单店模式",options:[{value:"GMV_SUBSIDY",label:"GMV补贴"},{value:"COOPERATE_COUPON",label:"合优享"},{value:"HELLO_SINGLE_STORE",label:"你好（单店）"}]},{label:"多店模式",options:[{value:"MAIN_STORE",label:"主店"},{value:"SUB_STORE",label:"副店"},{value:"HELLO_MANY_STORES",label:"你好（多店）"}]},{label:"其他",options:[{value:"OPENING_FREE_PERIOD",label:"开业免费期"},{value:"OWNER_ALTERNATE_PERIOD",label:"店长交替期"}]}]},t2Y8:function(e,t,a){"use strict";var l=a("QbLZ"),n=a.n(l),o=a("L2JU");function i(e,t){return t.includes(e)}t.a={computed:n()({},Object(o.b)(["name","btnPermissionRoles"])),created:function(){this._initBtnPermission()},methods:{_initBtnPermission:function(){var e=function(e,t){var a=[];if(e.length)return e.map(function(e){var l=e.split(":")[0],n=e.split(":")[1];l===t&&a.push(n)}),a}(this.btnPermissionRoles,this.PATH);this.btnArr=e,this.buttonFilter=i}}}},tg1W:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s});var l=a("jWXv"),n=a.n(l),o=a("rfXi"),i=a.n(o);function r(e){if(null===e||e){var t={};for(var a in e)void 0!==e[a]&&""!==e[a]&&null!==e[a]&&0!==e[a]&&(t[a]=e[a]);return t}}function s(e){var t="",a=e.map(function(e){return t=-1!==e.indexOf("proprietor")?"proprietor":-1!==e.indexOf("finance")?"finance":-1!==e.indexOf("all")?"all":""}),l=i()(new n.a(a));return t="",l.includes("finance")&&l.includes("proprietor")?t="admin":l.map(function(e){-1!==e.indexOf("finance")?t="finance":-1!==e.indexOf("proprietor")?t="proprietor":-1===e.indexOf("all")||t||(t="all")}),t}},tyD3:function(e,t,a){"use strict";var l=a("/uL/"),n=a("mDvr"),o=a("VLRh"),i=a("tg1W");t.a={data:function(){return{code:null,size:20,currentPage:1,totalPages:1,hotelName:"",city:[],hotels:[],cityValue:[],totalElements:0,props:{value:"code",label:"name",checkStrictly:!0},hotelStates:[{value:0,label:"全部"},{value:o.r,label:"待运营"},{value:o.k,label:"运营中"},{value:o.l,label:"已暂停"},{value:o.q,label:"已解约"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){this._getCity(),"HotelManageIndex"===!this.$options.name&&this._getHotel()},methods:{handleSizeChange:function(e){this.size=e,this._getHotel()},handleCurrentChange:function(e){this.currentPage=e,this._getHotel("pageChange")},search:function(){this.currentPage=1,this._getHotel()},selectCity:function(e){this.provinceCode=e[0]||"",this.proviceCode=e[0]||"",this.cityCode=e[1]||"",this.areaCode=e[2]||""},_getCity:function(){var e=this;Object(l.g)().then(function(t){e.city=t.data})},_getHotel:function(e){var t=this;this.hotels=[];var a={hotelName:this.hotelName,page:"pageChange"===e?this.currentPage:1,size:this.size,status:0!==this.status?this.status:"",cooperationMode:0!==this.modeVal?this.modeVal:"",startSignDate:this.hotelDate&&0!==this.hotelDate.length?this.hotelDate[0]:"",endSignDate:this.hotelDate&&0!==this.hotelDate.length?this.hotelDate[1]:"",proviceCode:this.provinceCode,cityCode:this.cityCode,areaCode:this.areaCode,code:this.code,hotelAdminStatus:this.hotelAdminStatus};a=Object(i.a)(a),Object(n.a)(a).then(function(e){t.hotels=e.data.list,t.total=parseInt(e.data.totalElements),t.totalGMV=e.data.totalGMV,t.totalSRN=e.data.totalSRN,t.totalPages=e.data.totalPages,t.totalElements=e.data.totalElements})}}}},uMSB:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i});var l=a("CcjM");function n(e){return Object(l.a)({url:"bzy-upms/authUser/findUsersByRoleCode",method:"post",data:e})}function o(e){return Object(l.a)({url:"bzy-upms/theater/subList/"+e,method:"get"})}function i(e){return Object(l.a)({url:"bzy-hotel/hotel/queryLikeByNameOrCode",method:"get",params:e})}}}]);